/*! Javascript UI Frameworks | Instance - 1.0.6 (6) */
(function(c,f){var a="1.0.6",d={Constants:{NULL_FUNCTION:function(){},NULL_ELEMENT_FUNCTION:function(){return document.createElement("DIV")}}},e=(function e(){var h=document.getElementsByTagName("head")[0];var g=document.getElementsByTagName("base")[0];var i=[];var k=false;if(g){h=baseElement.parentNode}var j=function(){var l=i.shift();if(g){h.insertBefore(l,g)}else{h.appendChild(l)}};return{scriptPath:function(q){var p=document.getElementsByTagName("script"),m=document.location.protocol,l="",o;for(var n=0;n<p.length;n++){if(p[n].src&&p[n].src.indexOf(q)!=-1){l=p[n].src.substring(0,p[n].src.lastIndexOf("/")+1);break}}l=l.replace(document.location.protocol+"//","");o=l.split("/");if(o.length>0&&o[o.length-1]==""){o.pop()}return m+"//"+o.join("/")},loadScript:function(u,t,s,q){if(arguments[0]!=f&&arguments[0].constructor===Array){var m=arguments[0];for(var p in m){var n=m[p];this.loadScript(n,t,s,q)}return m}var l=(t!=="")?(t+"/"+u):u;var o=false;var r=document.createElement("script");r.type="text/javascript";r.src=l;r.charset="utf-8";if(s||q){r.onreadystatechange=r.onload=function(){if(o===false){if(typeof s==="function"){s()}}o=true;if(q){if(i.length==0){k=false}else{j()}}}}if(q===true){i.push(r);if(k===false){k=true;j()}}else{if(g){h.insertBefore(r,g)}else{h.appendChild(r)}}},writeScript:function(p,n){if(arguments[0]!=f&&arguments[0].constructor===Array){var o=arguments[0];for(var m in o){var l=o[m];this.writeScript(l,n)}return o}var q=(n!=="")?(n+"/"+p):p;document.write('<script type="text/javascript" src="'+q+'"><\/script>')}}})(),b=(function b(){return{register:function(h,g,i){if(c[h]!==f){debug.warn("Warning Glboal Extend: "+h+" is exists !!")}if(c[h]===f||i===true){c[h]=g}}}})();d.register=function(h,g,i){if(d[h]!==f){debug.warn("Warning Extend: property ("+h+") of UI is exists !!")}if(d[h]===f||i===true){d[h]=g}};d.register("ScriptLoader",e);d.register("Global",b);d.Global.register("UI",d)})(window);(function(a,c){a.debug_enabled=a.debug_enabled||false;var b=function(){var d=function(i){var h=new Date().getTime()/1000;var j=parseInt(h,10);return(i)?h:(Math.round((h-j)*1000)/1000)};b.enabled=(a.debug_enabled===true)?true:false;b.currentTime=d(true);var g=["log","info","warn","error"];var e=function(k,j){if(typeof k!="function"){return}for(var h in g){var l=g[h];k.call(j,l)}};if(Function.prototype.bind&&a.console!=c&&typeof a.console.log=="object"){e(function(h){if(a.console[h]==c){a.console[h]=this.bind(a.console[h],a.console)}},Function.prototype.call);return a.console}g.push("resetTime","elapsedTime","captureTrace","message");var f={filter:[],_execute:function(o,j){if(o!="message"&&o!="error"&&!b.enabled){return}if(o=="message"){o="log"}var n=Array.prototype.slice.call(j,0);if(Function.prototype.bind&&a.console!=c){switch(o){case"resetTime":b.currentTime=d(true);break;case"captureTrace":var h="";try{var l={};if(typeof Error.captureStackTrace=="function"){Error.captureStackTrace(l,this)}else{var i=new Error();l.stack=i.stack}var h=l.stack.split(/\n/);h.shift();h.shift();h.shift();h.shift();h=h[0]}catch(m){console.log(m);h=""}a.console.log(h);break;case"elapsedTime":n.push(o);n.push((d(true)-b.currentTime).toFixed(3));var k=Function.prototype.bind.call(a.console.log,a.console);k.apply(a.console,n);break;default:if(f.filter&&f.filter.length>0){if(!in_array(f.filter,n[0])){break}}var k=Function.prototype.bind.call(a.console[o],a.console);k.apply(a.console,n);break}}}};e(function(h){if(typeof f._execute=="function"){f[h]=function(i){f._execute(h,arguments)}}},f);return f};b.type=function(e){var d=(a.debug)?a.debug.filter:[];a.debug=(e=="console")?a.console:new b();a.debug.filter=d};b.__ClassCreateLog=false;b.filter=function(d){a.debug.filter=arguments};b.type("debug");UI.register("Debug",b)})(window);(function(c,d){var b=function b(f,k,i){var e=(typeof k=="function")?k.call(k):(k||{});var h=(c[f]===d)?(new Function("return function "+f+"() {}"))():c[f];b.register(h,e);if(i){for(var g in i){var j=i[g];c[j]=c[j]||e[g]}}h.toPrototype=function(){var m=c[f].prototype;for(var n in e){var l=n.replace(/[_|-](.)/g,function(o,p){return p.toUpperCase()});if(m[l]==d){if(l.charAt(0)!=="_"){m[l]=function(){var o=Array.prototype.slice.call(arguments,0);o.unshift(this);return e[n].apply(h,o)}}}}};b[f]=h;return h};b.register=function(h,e,g){h=(h==d)?{}:h;for(var i in e){var f=i.replace(/[_|-](.)/g,function(j,k){return k.toUpperCase()});if(!!g||h[f]==d){if(f.charAt(0)!=="_"){h[f]=e[i]}}}return h};b("Object",{is_object:function(e){return(Object.prototype.toString.call(e)==="[object Object]")},is_equal:function(g,i,j,e){var f=true;if(j===true&&typeof g=="object"&&typeof g=="object"){for(var h in g){if(g[h]!==i[h]){f=false;break}}}else{f=e===true?(g===i):(g==i)}return f},is_plain_object:function(f){if(typeof f!=="object"||f.nodeType||f===c){return false}try{if(f.constructor&&!Object.prototype.hasOwnProperty.call(f.constructor.prototype,"isPrototypeOf")){return false}}catch(g){return false}return true},copy:function(f){var e={};b.Object.merge(e,f,true);return e},extend:function(e,h){e=e||{};for(var f in h){var g=h[f];if(typeof g=="object"){e[f]=b.Object.extend(e[f],g)}else{e[f]=g}}return e},clone:function(e){return b.Object.merge({},e,true)},merge:function(e,i,g){if(g==true){e=e||{};for(var f in i){var h=typeof i[f];if(h=="object"){e[f]=b.Object.merge(e[f],i[f],g)}else{e[f]=i[f]}}}else{for(var f in i){if(e[f]!=d){var h=typeof i[f];if(h=="object"){e[f]=b.Object.merge(e[f],i[f],g)}else{if(h=="number"){if((""+e[f]).indexOf(".")!==-1){e[f]=parseFloat(i[f])||0}else{e[f]=parseInt(i[f])||0}}else{e[f]=i[f]}}}}}return e}});b("Array",{is_array:function(e){return(Object.prototype.toString.call(e)==="[object Array]")},in_array:function(h,g,e){for(var f in h){if(b.Object.isEqual(h[f],g,true,e)){return true}}return false},index_by_object:function(h,f){if(!b.Array.isArray(h)){return -1}var e=-1;for(var g=0;g<h.length;g++){if(g in h){if(h[g]===f){e=g;break}}}return e},add:function(f,e){if(!b.Array.isArray(f)){f=new Array()}if(e!=null){f.push.call(f,e)}return f},remove_at_index:function(g,e){if(e<0||e>g.length-1){return g}var f=g.slice(e+1||g.length);g.length=e;g.push.apply(g,f);return g},remove:function(h,f){if(f==null||h.length==0){return -1}var e=-1;for(var g=0;g<h.length;g++){if(b.Object.isEqual(h[g],f,true)){e=g;break}}if(e===-1){return h}return b.Array.removeAtIndex(h,e)},copy:function(e){return Array.prototype.slice.call(e,0)},sort:function(m,o,n){if(typeof o!="function"){return}var e=m&&typeof m.length!=d?m.length:0;var f=false;for(var l=0;l<e;l++){for(var g=0;g<e-1;g++){var k=o.call(n,m[g],m[g+1]);if(k==="ASC"){var h=m[g+1];m[g+1]=m[g];m[g]=h}else{if(k==="DESC"){var h=m[g];m[g]=m[g+1];m[g+1]=h}else{if(k===false){f=true;break}}}}if(f==true){break}}},each:function(j,g,e){if(typeof g!="function"){return}var h=j&&typeof j.length!=d?j.length:0;for(var f=0;f<h;f++){if(f in j){if(g.call(e,f,j[f])===false){break}}}}});b("Number",{parse_int:function(f){var g=String(f).replace(/[,]/gi,"");var e=parseInt(g,10);if(isNaN(e)){e=0}return e},format:function(f){var g=String(f);var e=/(\-?\d+)(\d{3})($|\.\d+)/;if(e.test(g)){return g.replace(e,function(k,j,i,h){return Hepler.Number.numberFormat(j)+","+i+""+h})}return g},pad:function(h,e){var i="00000000000000";var f=1.000000000001;var g=h>0?1+Math.floor(f*(Math.log(h)/Math.LN10)):1;return(i+h).substr(i.length-(e-g))}},{format:"number_format",pad:"number_pad"});b("XML",{to_JSON:function(m){var k={};if(m.nodeType==1){if(m.attributes.length>0){k["@attributes"]={};for(var h=0;h<m.attributes.length;h++){var e=m.attributes.item(h);k["@attributes"][e.nodeName]=e.value}}}else{if(m.nodeType==3||m.nodeType==4){return m.nodeValue}else{if(m.nodeType==8){return k}else{if(m.nodeType==9){}}}}if(m.hasChildNodes()){var p=true;for(var l=0;l<m.childNodes.length;l++){var r=m.childNodes.item(l);if(r.nodeType==8){continue}var q=r.nodeName;var n=b.XML.toJSON(r);n=(typeof n=="string")?trim(n):n;var g=q.indexOf("#")!==-1;if(!g){p=false}if(typeof n!=="string"||trim(n)!==""){if(k[q]===d){k[q]=n}else{if(typeof(k[q].push)=="undefined"){var f=k[q];k[q]=[];k[q].push(f)}k[q].push(n)}}}if(p===true){var o="";for(var q in k){if(q.indexOf("#")!==-1){o+=k[q]}}return o}}return k}});b("String",{guid:function(e){var f=(e==d||typeof e!=="string")?"xxxx-xxxx-xxxx-xxxx":e;return f.replace(/[xy]/g,function(i){var h=Math.random()*16|0,g=i=="x"?h:(h&3|8);return g.toString(16)})},trim:c.trim||function(e){return e==null?"":(e+"").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},lcfirst:function(e){e+="";var f=e.charAt(0).toLowerCase();return f+e.substr(1)},ucfirst:function(e){e+="";var f=e.charAt(0).toUpperCase();return f+e.substr(1)},camelize:function(e){return e.replace(/[_|-](.)/g,function(f,g){return g.toUpperCase()})},decamelize:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},{trim:"trim",ucfirst:"ucfirst"});b("Cookie",{set:function(l,h,f,j,g,i){f=f||60*60*24*30*3;var e=new Date();e.setTime(e.getTime()+f);var k=escape(h)+((f==d)?"":"; expires="+e.toUTCString());if(j){k+="; path="+escape(j)}if(g){k+="; domain="+escape(g)}if(i){k+="; secure"}document.cookie=l+"="+k},get:function(h){var f=document.cookie;var g=f.indexOf(" "+h+"=");if(g==-1){g=f.indexOf(h+"=")}if(g==-1){f=null}else{g=f.indexOf("=",g)+1;var e=f.indexOf(";",g);if(e==-1){e=f.length}f=unescape(f.substring(g,e))}return f}},{set:"set_cookie",get:"get_cookie"});var a=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,f=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,h=/[^-+\dA-Z]/g,g=function(j,i){j=String(j);i=i||2;while(j.length<i){j="0"+j}return j};return function(n,A,v){var k=a;if(arguments.length==1&&Object.prototype.toString.call(n)=="[object String]"&&!/\d/.test(n)){A=n;n=d}n=n?new Date(n):new Date;if(isNaN(n)){throw SyntaxError("invalid date")}A=String(k.masks[A]||A||k.masks["default"]);if(A.slice(0,4)=="UTC:"){A=A.slice(4);v=true}var x=v?"getUTC":"get",r=n[x+"Date"](),i=n[x+"Day"](),p=n[x+"Month"](),u=n[x+"FullYear"](),w=n[x+"Hours"](),q=n[x+"Minutes"](),z=n[x+"Seconds"](),t=n[x+"Milliseconds"](),j=v?0:n.getTimezoneOffset(),l={d:r,dd:g(r),ddd:k.i18n.dayNames[i],dddd:k.i18n.dayNames[i+7],m:p+1,mm:g(p+1),mmm:k.i18n.monthNames[p],mmmm:k.i18n.monthNames[p+12],yy:String(u).slice(2),yyyy:u,h:w%12||12,hh:g(w%12||12),H:w,HH:g(w),M:q,MM:g(q),s:z,ss:g(z),l:g(t,3),L:g(t>99?Math.round(t/10):t),t:w<12?"a":"p",tt:w<12?"am":"pm",T:w<12?"A":"P",TT:w<12?"AM":"PM",Z:v?"UTC":(String(n).match(f)||[""]).pop().replace(h,""),o:(j>0?"-":"+")+g(Math.floor(Math.abs(j)/60)*100+Math.abs(j)%60,4),S:["th","st","nd","rd"][r%10>3?0:(r%100-r%10!=10)*r%10]};return A.replace(e,function(m){return m in l?l[m]:m.slice(1,m.length-1)})}}();a.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};a.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};b("Date",{format:function(f,e,g){return a(f,e,g)}});UI.register("Helper",b)})(window);(function(window,undefined){var Debug=UI.Debug,Core=function(){return{}};Core.prototype={__construct:function(){},__destruct:function(){},destroy:function(){this.__destruct.apply(this,arguments)},toString:function(){if(this["__name"]){return this.__name}return"{}"},__parent:Object,__class:Core,__ancestor:Core,constructor:Core};window.GLOBAL_VALUE=1;var Class=function(options){if(typeof options=="function"){options={name:"__CLASS__",parent:IObject,constructor:options}}var _instance,_class,_parent,_constructor,_caller;var className=(typeof options.name=="string")?options.name.replace(/[^a-z_]/gi,""):"__CLASS__";_class=eval("function "+className+"() { _instance = this; return _nativeCode.apply( _nativeCode, arguments ); };"+className);_parent=(typeof options.parent=="function")?function(parent){if(Debug.__ClassCreateLog){debug.log("Class create [",className,"] from [",parent.__name,"]")}return parent}(options.parent):function(parentName){if(Debug.__ClassCreateLog){debug.log("Class create [",className,"] from [",parentName,"]")}var parent=(typeof window[parentName]=="function"&&window[parentName].prototype.__ancestor===Core)?window[parentName]:((typeof Class[parentName]=="function"&&Class[parentName].prototype.__ancestor===Core)?Class[parentName]:Core);return parent}((typeof options.parent=="string")?options.parent:"Core");_constructor=(options.constructor==undefined)?function(){}:options.constructor;_class.prototype.include=_class.include=Class.include;_class.prototype.extend=_class.extend=Class.extend;_class.include(_parent.prototype);_class.prototype.__class=_class;_class.prototype.__parent=_parent;_class.prototype.__ancestor=_parent.prototype.__ancestor;_class.prototype.constructor=_class;_class.extend(_parent,_class);_class.prototype.__name=className;var _nativeCode=function(){var parent=_parent.apply(_instance,arguments);var constructor=((typeof _constructor=="function")?_constructor.apply(_instance,arguments):_constructor);var _superClass=function __SUPER__(){return{}};var _super=new _superClass();for(var name in parent){_super[name]=parent[name]}if(typeof _instance.extend=="function"){_instance.extend(parent);_instance.extend(constructor)}_instance._super=function(method,args){if(arguments.length===0){return _super}if(typeof _super[method]==="function"){return _super[method].apply(_super,args)}else{console.error("parent is not has method("+method+")")}};if((this.constructor==Core||_instance.constructor==_class)&&typeof _instance.__construct=="function"){_instance.__construct.apply(_instance,arguments)}return _instance};Class.register(className,_class,options.force===true);if(options["static"]!=undefined){options.staticConstructor=options["static"]}if(options.staticConstructor!=undefined){var _staticInstance=(typeof options.staticConstructor=="function")?options.staticConstructor.apply(_class):options.staticConstructor;Class.extend(_staticInstance,_class)}return _class};Class.isClass=Core.isClass=function(constructor){if(typeof constructor!="function"){return false}if(typeof constructor.prototype.__ancestor==undefined){return false}return(constructor.prototype.__ancestor===Core)};Class.register=function(name,object,force){if(Class[name]!==undefined){debug.warn("Warning Extend: property ("+name+") of Class is exists !!")}if(Class[name]===undefined||force===true){Class[name]=object}};Class.extend=function(prop,context,ignoreOverride,hidden){context=(context==undefined)?this:context;for(var name in prop){if(!ignoreOverride||context[name]==undefined){if(!hidden||name.substr(0,1)!=="_"){context[name]=prop[name]}}}};Class.include=function(prop,context){context=(context==undefined)?this:context;var prototype=context.prototype;for(var name in prop){prototype[name]=prop[name]}};UI.register("Class",Class)})(window);(function(i,d){var a=UI.Class,h=a.Core,c=a.IObject,f=UI.Helper,b=a({name:"UserDefaults",parent:a.IObject,constructor:function(){var j;var l={};var k=i.localStorage;return{__construct:function(m){j=m;var n=k.getItem(j);l=(n&&typeof n=="string")?JSON.parse(n):{};return this},data:function(){return l},get:function(m){if(l[m]==d){return d}return l[m]},set:function(m,n){l[m]=n},remove:function(m){l[m]=d;delete l[m]},clear:function(){l={}},keys:function(){var n=[];for(var m in l){n.push(m)}return n},synchronize:function(){var m=JSON.stringify(l);k.setItem(j,m)}}},"static":function(){var j={};return{standardUserDefaults:function(){return UI.UserDefaults.userDefaultsWithKey("__UIKIT_USER_DEFAULT__")},userDefaultsWithKey:function(k){if(j[k]!=d){return j[k]}j[k]=new a.UserDefaults(k);return j[k]},resetStandardUserDefaults:function(){_standardUserDefaults.destroy();_standardUserDefaults=d;_standardUserDefaults=new a.UserDefaults()}}}}),g=a({name:"LocalStorage",parent:c,constructor:function(){var j=i.localStorage;return{init:function(){return this},get:function(k){return j.getItem(k)},set:function(k,l){j.setItem(k,l)},remove:function(k){j.removeItem(k)},clear:function(){j.clear()},data:function(){return j},keys:function(){var l=[];for(var k in j){if(k!="length"){l.push(k)}}return l}}},"static":function(){var j=new a.LocalStorage();return{sharedInstance:function(){return j}}}}),e=a({name:"DataMap",parent:h,constructor:function(){var j=[],k={};return{data:function(l){if(arguments.length==0){return k}k=l},get:function(l){return k[l]},put:function(l,m){if(k[l]==d){j.push(l)}k[l]=m},remove:function(l){k[l]=d;delete k[l];Array.remove(j,l)},each:function(n){if(typeof n!="function"){return}for(var m=0,o=j.length;m<o;m++){var l=j[m];var p=k[l];n.call(this,l,p,m)}},entrys:function(){var n=j.length;var m=new Array(n);for(var l=0;l<n;l++){m[l]={key:j[l],value:k[l]}}return m},isEmpty:function(){return j.length==0},size:function(){return j.length}}}});UI.register("UserDefaults",b);UI.register("LocalStorage",g);UI.register("DataMap",e)})(window);(function(e,f){var g=function(i,l){var k=(i==f||isNaN(parseFloat(i)))?0:parseFloat(i);var j=(l==f||isNaN(parseFloat(l)))?0:parseFloat(l);var h={x:k,y:j};h.toString=function(){return JSON.stringify(rect)};return h},c=function(l,i){var h=(l==f||isNaN(parseFloat(l)))?0:parseFloat(l);var k=(i==f||isNaN(parseFloat(i)))?0:parseFloat(i);var j={width:h,height:k};j.toString=function(){return JSON.stringify(rect)};return j},d=function(o,l,h,p){if(arguments.length==1){var m=o;return new d(m.origin.x,m.origin.y,m.size.width,m.size.height)}var n=(o==f||isNaN(parseFloat(o)))?0:parseFloat(o);var k=(l==f||isNaN(parseFloat(l)))?0:parseFloat(l);var i=(h==f||isNaN(parseFloat(h)))?0:parseFloat(h);var j=(p==f||isNaN(parseFloat(p)))?0:parseFloat(p);var m={origin:new g(n,k),size:new c(i,j)};m.toString=function(){return JSON.stringify(m)};return m},b=function(m,n,i,j){var o=(m==f||isNaN(parseFloat(m)))?0:parseFloat(m);var h=(n==f||isNaN(parseFloat(n)))?0:parseFloat(n);var l=(i==f||isNaN(parseFloat(i)))?0:parseFloat(i);var p=(j==f||isNaN(parseFloat(j)))?0:parseFloat(j);var k={top:o,right:h,bottom:l,left:p};k.toString=function(){return JSON.stringify(rect)};return k};var a=function(k){var o,i,m,l={top:0,left:0},j={top:0,left:0};if(!document.documentElement.contains(k)){return new g(j.left,j.top)}var h=k.ownerDocument.defaultView.getComputedStyle(k,null);m=h.position;l=(!(m==="fixed"||m==="absolute")&&k.getBoundingClientRect!==f)?k.getBoundingClientRect():{top:k.offsetTop,left:k.offsetLeft};var i=document.documentElement;var o=k!==e?e:(k.nodeType===9?k.defaultView||k.parentWindow:f);var n={top:(o.pageYOffset||i.scrollTop),left:(o.pageXOffset||i.scrollLeft)};var p={top:(i.clientTop||0),left:(i.clientLeft||0)};j={top:l.top+n.top-p.top,left:l.left+n.left-p.left};return new g(j.left,j.top)};g.fromElement=a;UI.register("UIPoint",g);UI.register("UISize",c);UI.register("UIRect",d);UI.register("UIEdgeInsets",b)})(window);(function(b,c){var a=function a(j){this.ok=false;if(j.charAt(0)=="#"){j=j.substr(1,6)}j=j.replace(/ /g,"");j=j.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var k in e){if(j==k){j=e[k]}}var h=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(i){return[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(i){return[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(i){return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]}}];for(var f=0;f<h.length;f++){var m=h[f].re;var d=h[f].process;var l=m.exec(j);if(l){var g=d(l);this.r=g[0];this.g=g[1];this.b=g[2];this.ok=true}}this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var o=this.r.toString(16);var n=this.g.toString(16);var i=this.b.toString(16);if(o.length==1){o="0"+o}if(n.length==1){n="0"+n}if(i.length==1){i="0"+i}return"#"+o+n+i}};UI.register("RGBColor",a)})(window);(function(d,g){var b=UI.Class,c=UI.Helper,a=UI.RGBColor,f=b.Core,e={Linear:function(i,j,k,l){if(i<=0){return j}else{if(i>=1){return k}}return i*k+(1-i)*j},Quad:{easeIn:function(i,j,k,l){return e.Linear(i*i,j,k)},easeOut:function(i,j,k,l){return e.Linear((2-i)*i,j,k)},easeInOut:function(j,k,l,m){var i=j;j/=m/2;if(j<1){return e.Linear(j*j,k,l+(k-l)*0.5)}j=i;return e.Linear((2-j)*j,k-(k-l)*0.5,l)}},Bounce:{easeOut:function(i,j,k,l){debug.log(i);if(i*2<1){return e.Linear(i*i,j,k)}return e.Linear((2-i)*i*-1,j,k)}}},h=b({name:"Tween",parent:f,constructor:function(){var s,o=0,p={delay:0,top:g,left:g,right:g,bottom:g,width:g,height:g,scale:1,ease:e.Linear,transform:{rotation:{x:0,y:0,z:0},scale:{x:0,y:0,z:0},skew:{x:0,y:0},matrix:{x:0,x2:0,x3:0,y:0,y2:0,y3:0,z:0,z2:0,z3:0,d:0,d2:0,d3:0,tx:0,ty:0,tz:0,td:0}},shadow:0,opacity:1,css:{backgroundColor:new a("white")},onBefore:UI.Constants.NULL_FUNCTION,onStart:UI.Constants.NULL_FUNCTION,onUpdate:UI.Constants.NULL_FUNCTION,onComplete:UI.Constants.NULL_FUNCTION},j={top:0,left:0,right:0,bottom:0,width:0,height:0,transform:{rotation:{x:0,y:0,z:0},scale:{x:0,y:0,z:0},skew:{x:0,y:0},matrix:{x:0,x2:0,x3:0,y:0,y2:0,y3:0,z:0,z2:0,z3:0,d:0,d2:0,d3:0,tx:0,ty:0,tz:0,td:0}},shadow:0,opacity:1,css:{backgroundColor:new a("white")}},l={},m=false,q=false,k=-1,n=function(){},i=function(u){var t=+new Date;setTimeout(function(){u(t)},0)},r=d.cancelAnimationFrame;return{_animationPosition:0,instance:function(){return s},__construct:function(t){s=t;this.init.apply(this,arguments)},_render:function(w){if(m===true){return false}var v=this,t=(k==-1)?(k=w):k,x=w,u=x-t,y=(o==0)?1:((u==0)?0:Math.min(1,u/o));this._animationPosition=y;this._onUpdate(y);return(y===1)},_easingCurve:function(v,w,u){},_curve:function(u,v,t){if(u<=0){return v}else{if(u>=1){return t}}return n.call(this,u,v,t,o)},_requestAnimationFrame:function(){var t=this;if(o==0){t._render(-1);t._onComplete.call(t);return}i(function(){if(!t._render.apply(t,arguments)){if(m==false){t._requestAnimationFrame()}else{if(q==true){setTimeout(function(){t._onComplete.call(t)},0)}}}else{setTimeout(function(){t._onComplete.call(t)},0)}})},_onBefore:function(){if(typeof l.onBefore=="function"){l.onBefore()}},_onStart:function(){k=-1;if(typeof l.onStart=="function"){l.onStart()}},_draw:function(y){var v={};for(var u in l){if(Array.inArray(["left","right","top","bottom","width","height"],u)&&l[u]!=g){v[u]=this._curve(y,j[u],l[u])+"px"}else{if(l[u]!=g&&c.Array.inArray(["opacity"],u)){v[u]=this._curve(y,j[u],l[u])}else{if(l[u]!=g&&c.Array.inArray(["scale"],u)){var z=this._curve(y,j[u],l[u]);s[u](z)}else{if(l[u]!=g&&c.Array.inArray(["css"],u)){for(var A in l.css){if(A=="backgroundColor"){var x=this._curve(y,j.css.backgroundColor.r,l.css.backgroundColor.r);var w=this._curve(y,j.css.backgroundColor.g,l.css.backgroundColor.g);var t=this._curve(y,j.css.backgroundColor.b,l.css.backgroundColor.b);v["background-color"]="rgb("+parseInt(x)+","+parseInt(w)+","+parseInt(t)+")"}}}}}}}s.css(v)},_onUpdate:function(t){if(m==true){return}this._draw(t);if(typeof l.onUpdate=="function"){l.onUpdate(t)}},_onComplete:function(){this._draw(1);if(typeof l.onComplete=="function"){l.onComplete.call(s,this,l)}if(typeof s.__didFinishToTween=="function"){s.__didFinishToTween.call(s,this)}},_vars:function(v){l={};for(var t in p){if(v[t]!=g){var u=typeof p[t];if(u=="object"){if(t==="css"&&v.css.backgroundColor!=g){l.css=l.css||{};l.css.backgroundColor=new a(v.css.backgroundColor)}}else{if(u=="number"){if((""+p[t]).indexOf(".")!==-1){l[t]=parseFloat(v[t])||0}else{l[t]=parseInt(v[t])||0}}else{l[t]=v[t]}}}}},_data:function(){var w=s.element();var v=s.size();var u=s.css("background-color");var x=v.width;var t=v.height;j={left:parseFloat(s.css("left")),top:parseFloat(s.css("top")),width:x,height:t,scale:s.scale(),opacity:(w.style.opacity)?parseInt(w.style.opacity):1,css:{backgroundColor:u}};if(s.css("right")!=="auto"&&!isNaN(parseInt(s.css("right")))){j.right=parseInt(s.css("right"))}if(s.css("bottom")!=="auto"&&!isNaN(parseInt(s.css("bottom")))){j.bottom=parseInt(s.css("bottom"))}},init:function(t){var u=["ms","moz","webkit","o"];var v=u.length;while(--v>-1&&!i){}},killTo:function(t){m=true;q=t;if(typeof s.__didFinishToTween=="function"){s.__didFinishToTween.call(s,this)}},set:function(u,t){o=u*1000;n=l.ease||e.Linear;this._vars(t)},to:function(u,t){m=false;q=false;this.set(u,t);this.start()},start:function(){if(h.slowAnimation===true){o=o*10}this._onBefore();this._onStart();this._data();this._requestAnimationFrame()}}},"static":function(){return{slowAnimation:false,set:function(l,k,j){var i=new h(l);i.set(k,j);return i},to:function(l,k,j){var i=new h(l);i.to(k,j);return i}}}});h.Easing=e;UI.register("Tween",h)})(window);(function(g,d){var b=UI.Class,f=b.Core,c=b.IObject,h=b({name:"Event",parent:f,constructor:function(r,j){var q=(r!=d&&r[0]!=d)?r[0]:d;if(q!=d&&q.pageX!=d&&q.pageY!=d){return{offsetX:q.pageX,offsetY:q.pageY}}var l=(r!=d&&r.length>0)?r[0].clientX:j.clientX;var k=(r!=d&&r.length>0)?r[0].clientY:j.clientY;var r=[];var x,n,s,t;var v=j.target||j.srcElement;t=g;x=v&&v.ownerDocument;n=x.documentElement;s=x.body;var p=n.clientTop||s.clientTop||0;var u=n.clientLeft||s.clientLeft||0;var m=t.pageYOffset||n.scrollTop;var o=t.pageXOffset||n.scrollLeft;var w=j.type;return{phase:w,touches:r,clientX:l,clientY:k,offsetX:l+o-u,offsetY:k+m-p}},"static":function(){var j;return{eventUID:0,hasTouch:"ontouchstart" in g,manager:function(){if(!j){j=new e()}return j}}}}),a={Start:h.hasTouch?"touchstart":"mousedown",Move:h.hasTouch?"touchmove":"mousemove",End:h.hasTouch?"touchend":"mouseup",Cancel:"touchcancel"},i=function(j,n){var l=j;var k=j.element?j.element():d;var m=n;var o=[];return{bindedHandlers:function(){return o},addEventListener:function(q,p){if(typeof q!="function"){return}o[o.length]=q},removeEventListener:function(q,p){Array.remove(o,q)},dispatchEvent:function(){var p=arguments;Array.each(o,function(q,r){r.apply(l,p)})}}},e=function(){var j={};return{bindedEvent:function(k,m){var n=m;var l=k.eventUID();j[l]=(j[l])?j[l]:{};j[l][n]=(j[l][n])?j[l][n]:new i(k,n);return j[l][n]},add:function(k,n,p,l){var o=n;var m=k.eventUID();j[m]=(j[m])?j[m]:{};j[m][o]=(j[m][o])?j[m][o]:new i(k,o);j[m][o].addEventListener(p,l)},remove:function(k,m,o){var n=m;var l=k.eventUID();j[l]=(j[l])?j[l]:{};j[l][n]=(j[l][n])?j[l][n]:new i(k,n);j[l][n].removeEventListener(o)},trigger:function(k,m){var n=m;var l=k.eventUID();if(j[l][n]!=d){j[l][n].trigger}}}};UI.register("TouchEvent",a);UI.register("Event",h)})(window);(function(n,g){var b=UI.Class,i=UI.Helper,m=b.Core,q=b.Event,f=UI.UIPoint,d=UI.UISize,p=UI.UIRect,h=UI.UIEdgeInsets,o=UI.Tween,a=UI.RGBColor,e=b({name:"IObject",parent:m,constructor:function(){return{__construct:function(){this.init.apply(this,arguments)},init:function(){return this}}}}),k=b({name:"Responder",parent:e,constructor:function(){var r;return{eventUID:function(){if(!r){r="Event."+c.guid++}return r},context:function(t,s){var s=s||this;return(function(){return t.apply(s,arguments)})},eventHandlers:function(s){return q.manager().bindedEvent(this,s).bindedHandlers()},addEventListener:function(u,t){if(typeof t!="function"){return}var s=this;if(typeof u=="array"){Array.each(u,function(v,w){this.addEventListener(w,t)},s);return}q.manager().add(this,u,t)},removeEventListener:function(u,t){var s=this;if(Array.isArray(u)){Array.each(u,function(v,w){this.removeEventListener(w,t)},s);return}q.manager().remove(this,u,t)},dispatchEvent:function(u){var s=Array.prototype.slice.call(arguments,0);s.shift();var t=q.manager().bindedEvent(this,u);t.dispatchEvent.apply(t,s)},bind:function(t,s){this.addEventListener.apply(this,arguments);return this},unbind:function(t,s){this.removeEventListener.apply(this,arguments);return this},trigger:function(){this.dispatchEvent.apply(this,arguments);return this}}}}),c=b({name:"Element",parent:k,constructor:function(){var v,r=true,u=null,t=false,s=[],y=[],w=1,x=[];return{__captureElement:function(z){var A=z;if(z==g){z=g}else{if(typeof z=="string"){z=document.createElement(z.toUpperCase())}else{if(typeof z=="object"){if(z.jquery){z=z.get(0)}}}}return z},__isElement:function(z){if(typeof z==="object"&&z.nodeType!==g){return true}return false},__setElement:function(z){var z=this.__captureElement(z);if(this.__isElement(z)){v=z;this._addInstance()}},__construct:function(A){var z=Array.prototype.slice.call(arguments,1);u=this;this.__setElement(A);z.unshift(v);this.init.apply(this,z)},__destruct:function(){if(v){v=g}},_addInstance:function(){var z,A;z=i.String.guid("UIKit.xxxxxxxx")+"."+c.guid++;A=this.attribute("data-instance-id")?(" "+this.attribute("data-instance-id")+" ").replace(/[\t\r\n\f]/g," "):" ";if(A){if(A.indexOf(" "+z+" ")<0){A+=z+" "}A=trim(A);this.attribute("data-instance-id",A)}this.instanceID=z;UI.manager.add(this)},_removeInstance:function(B){UI.manager.remove(this);var z,A;z=this.instanceID;A=this.attribute("data-instance-id")?(" "+this.attribute("data-instance-id")+" ").replace(/[\t\r\n\f]/g," "):" ";if(A){while(A.indexOf(" "+z+" ")>=0){A=A.replace(" "+z+" "," ")}A=trim(A);this.attribute("data-instance-id",A)}},_instance:function(){return u},instanceID:0,init:function(z){return this},parent:function(){if(!this.hasElement()){return g}return v.parentNode},children:function(){if(!this.hasElement()){return[]}var z=[];Array.each(v.children,function(B,A){if(A.nodeType===1){z.push(A)}});return z},removeFromParent:function(){if(!this.hasElement()){return}if(this.parent()&&v){this.parent().removeChild(v)}},destroy:function(z){this._removePlugins();this._removeInstance();if(z===true){this.removeFromParent()}this._super("destroy",arguments)},hasElement:function(){return this.__isElement(v)?true:false},window:function(){return n},element:function(){return v},_removePlugins:function(){for(var z in y){var A=y[z];A.destroy()}y=[]},plugins:function(){return y},plugin:function(){for(var A in arguments){var C="UIPlugin"+String.ucfirst(arguments[A]);if(UI.Class[C]!==g){var z=UI.Class[C];var B=new z(this);y.push(B)}}this._plugins=y},style:function(A,D){if(!this.hasElement()){return}if(A.indexOf("-")!==-1){var z=A.split("-");var B=z.shift();Array.each(z,function(F,G){B+=String.ucfirst(G)});A=B}var C=v.style;var E={columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true};if(typeof D==="number"&&!E[A]){D+="px"}if(D===""&&A.indexOf("background")===0){C[A]="inherit"}else{C[A]=D}},find:function(z){if(!this.hasElement()){return[]}return v.querySelectorAll(z)},css:function(A){if(!this.hasElement()){return}if(Object.isObject(A)===true){for(var z in A){this.style(z,A[z])}return}var D={};var B=v.ownerDocument.defaultView.getComputedStyle(v,null);if(typeof A==="string"){var C=B[A];if(typeof C==="string"&&(C.indexOf("rgb")!==-1||C.indexOf("#")!==-1)){C=new a(C)}return C}for(var z in B){if(isNaN(parseInt(z))&&z!=="cssText"){var C=B[z];if(typeof C==="string"&&(C.indexOf("rgb")!==-1||C.indexOf("#")!==-1)){C=new a(C)}D[z]=C}}return D},hasClass:function(z){if(!this.hasElement()){return false}var A=" "+z+" ";if(v.nodeType===1&&(" "+v.className+" ").replace(/[\t\r\n\f]/g," ").indexOf(A)>=0){return true}return false},addClass:function(B){if(!this.hasElement()){return}var z,A,C;B=(B||"").match(/\S+/g)||[];A=v.nodeType===1&&(v.className?(" "+v.className+" ").replace(/[\t\r\n\f]/g," "):" ");if(A){C=0;while((z=B[C++])){if(A.indexOf(" "+z+" ")<0){A+=z+" "}}A=trim(A);if(v.className!==A){v.className=A}}},removeClass:function(B){if(!this.hasElement()){return}var z,A,C;B=(B||"").match(/\S+/g)||[];A=v.nodeType===1&&(v.className?(" "+v.className+" ").replace(/[\t\r\n\f]/g," "):" ");if(A){C=0;while((z=B[C++])){while(A.indexOf(" "+z+" ")>=0){A=A.replace(" "+z+" "," ")}}A=trim(A);if(v.className!==A){v.className=A}}},val:function(z){if(!this.hasElement()||v.value===g){return}if(arguments.length===0){return v.value||""}v.value=z},isHidden:function(){if(!this.hasElement()){return true}return(this.css("display")==="none"||!v.ownerDocument.contains(v))},showHide:function(z){if(!this.hasElement()){return}var B,A;B=v.style.display;if(z){if(B==="none"){v.style.display=""}}else{A=this.isHidden();if(B&&B!=="none"||!A){elem.style.display="none"}}},show:function(){this.showHide(true)},hide:function(){this.showHide(false)},addGestureRecognizer:function(z){if(!Array.inArray(x,z)){if(z._gestureObject()){z._gestureObject().removeGestureRecognizer.call(z._gestureObject(),z)}Array.add(x,z);z._gestureObject(this)}},removeGestureRecognizer:function(z){if(Array.inArray(x,z)){z._gestureObject(null);Array.remove(x,z)}},scale:function(z){if(!this.hasElement()){return w}if(arguments.length==0){return w}w=z;v.style.cssText+="-webkit-transform:scale("+w+", "+w+");"},width:function(){return this.size().width},height:function(){return this.size().height},size:function(){if(!this.hasElement()){return new d()}var A=this.css("width")||v.offsetWidth;var z=this.css("height")||v.offsetHeight;return new d(A,z)},offset:function(){if(!this.hasElement()){return new f()}return f.fromElement(v)},position:function(){if(!this.hasElement()){return new f()}var C,D,A,z={top:0,left:0},B;D=this.offset();B=v.offsetParent;if(this.css("position")==="fixed"){z=f.fromElement(B);if(this.parent()){A=v.ownerDocument.defaultView.getComputedStyle(this.parent(),null);z.x=z.x+parseInt(A.borderLeftWidth);z.y=z.y+parseInt(A.borderTopWidth)}}else{z.x=0;z.y=0}C={left:D.x-z.x,top:D.y-z.y};return new f(C.left,C.top)},removeAttribute:function(z){if(!this.hasElement()){return}v.removeAttribute(z)},attr:function(){this.attribute.apply(this,arguments)},attribute:function(z,A){if(!this.hasElement()){return}if(A==g){return v.getAttribute(z)}return v.setAttribute(z,A)},attributes:function(){if(!this.hasElement()){return[]}return v.attributes},cloneElement:function(z){if(!this.hasElement()){return null}var A=v.cloneNode(z);A.removeAttribute("data-instance-id");function B(C){Array.each(C,function(E,D){if(D.nodeType===1){D.removeAttribute("data-instance-id");if(D.children){B(D.children)}}})}B(A.children);A.innerHeight=A.innerHeight;return A},insertBefore:function(A){var z=A.element();if(z){z=(z.length)?z[0]:z;if(z.nodeType===1||z.nodeType===11||z.nodeType===9){this.parent().insertBefore(z,v);return this}}return false},insertAfter:function(A){var z=A.element();if(z){z=(z.length)?z[0]:z;if(z.nodeType===1||z.nodeType===11||z.nodeType===9){this.parent().insertBefore(z,v.nextSibling);return this}}return false},append:function(B,A){if(!this.hasElement()){return}var z=B.element();if(z.nodeType===1||z.nodeType===11||z.nodeType===9){v.appendChild(z)}},remove:function(B,A){if(B===g){this.destroy(true);return}if(!this.hasElement()){return}var z=B.element();z=(z&&z.jquery)?z.get(0):z;v.removeChild(z)},empty:function(){if(!this.hasElement()){return}v.innerHTML=""},appendHTML:function(z){if(!this.hasElement()){return}v.innerHTML+=z},html:function(z){if(!this.hasElement()){return}v.innerHTML=z},data:function(z,B){if(z===g){var A={},C=/^data\-(.+)$/;Array.each(this.attributes(),function(E,D){if(C.test(D.nodeName)){var F=D.nodeName.match(C)[1];A[F]=D.nodeValue}});return A}if(B===g){return this.attribute("data-"+z)}this.attribute("data-"+z,B)},addEventListener:function(B,A,z){this._super("addEventListener",arguments);if(!this.hasElement()){return}v.addEventListener(B,A,z||false)},removeEventListener:function(C,B,z){this._super("removeEventListener",arguments);if(!this.hasElement()){return}if(typeof B==="function"){v.removeEventListener(C,B,z||false)}else{var A=this.eventHandlers(C);Array.each(A,function(D,E){v.removeEventListener(C,E,z||false)})}},killAnimation:function(C){if(s.length.length==0){return}var B=s;s=[];for(var A=0;A<B.length;A++){var z=B[A];z.killTo((A==B.length-1)?C:false);l.remove(z)}},animate:function(B,A){var z=new o(this);z.set(B,A);s.push(z);if(A.inQueue===true){l.push(z);l.start()}else{z.start()}},_tweens:function(){return s},_firstTween:function(){if(s.length==0){return g}return s[0]},__didFinishToTween:function(z){Array.remove(s,z);l.didFinishToTween(this,z)}}},"static":function(){return{guid:0,createElement:function(t,s){var u=document.createElement(t);for(var r in s){if(r=="text"){text=document.createTextNode(s[r]);u.appendChild(text)}else{if(r=="html"){u.innerHTML=s[r]}}}return u}}}});var l=function(){var r=false,s=[];return{didFinishToTween:function(t,u){if(s.length>0&&u!==s.shift()){console.error("what!!!",u,s,r);return}if(r&&s.length==0){return this.killAll()}setTimeout(function(){l.next()},0)},push:function(t){s.push(t)},remove:function(u){var t=this.first();Array.remove(s,u);if(t===u){this.next()}},first:function(){if(s.length==0){return g}return s[0]},next:function(){var t=this.first();if(t==g){return this.killAll()}if(t==g){return this.killAll()}t.start()},killAll:function(){r=false;s=[]},start:function(){if(r==true){return}r=true;this.next()}}}();var j=function(){var s=[];var r={};return{add:function(t){if(!t.element()||t.element().length==0||!t.element().nodeType||t.element().nodeType!==1){debug.warn("instance is null",t);return}var v=t.instanceID;var u=parseInt(v.split(".")[2]);r[v]=s[u]=t},remove:function(t){if(t.element().length==0){debug.warn("instance is null",t);return}var u=t.instanceID;r[u]=g;delete r[u]},find:function(t,y,x){var v,u=[],w=(typeof y=="function");x=x||this;if(typeof t==="string"){u=document.querySelectorAll(t)}else{if(t.length>0&&t[0].nodeType!=g){u=t}else{if(t.nodeType!=g){u.push(t)}else{if(Array.isArray(t)){Array.each(t,function(z,A){if(b.isClass(A.constructor)){u.push(A.element())}})}}}}if(w){Array.each(u,function(z,A){y.call(this,z,A)},x)}return u},isInstance:function(t,u){if(t===g){return false}if(t.constructor!=g&&u!=g){if(t.constructor!==u){return false}}return true},instance:function(u,w,A){var t,z,y,x=false;y=this;z=UI.manager.withElement(u);w=typeof w==="string"?(b[w]):w;A=A||[];Array.each(z,function(C,B){if(y.isInstance(B,w)===true){x=true;return false}});if(u!=g&&w!=g&&!x){if(typeof w=="function"){if(!b.isClass(w)){var v=(typeof u.selector=="string"?function(B){return B.replace(/[\.\-]/gi,"_")}(u.selector):g);w=b({name:v,parent:c,constructor:w})}}t=new w(u,A[0],A[1],A[2],A[3])}else{if(z.length>0){t=z[z.length-1]}}return t},get:function(t,w){if(w===g){}var v=this;var u=this.find(t);var y=Array.prototype.slice.call(arguments,2);var x=[];Array.each(u,function(A,B){var z=this.instance(B,w,Array.copy(y));x.push(z)},v);return x},byID:function(t){return r[t]},atIndex:function(t){return s[t]},withElement:function(u){var t=($(u).attr("data-instance-id")||"").match(/\S+/g)||[];var v=this;var w=[];Array.each(t,function(y,z){var x=v.byID(z);w.push(x)});return w},countOf:function(){return s.length}}};UI.register("manager",new j());if(jQuery!==g){$.fn.instance=function(u){var r=[];this.each(function(w,x){r.push(x)});var s=Array.prototype.slice.call(arguments,0);s.unshift(r);var t=UI.manager;var v=t.get.apply(t,s);if(v.length==1){return v[0]}return $(v)};$.instance=UI.manager}})(window);(function(e,g){var c=UI.Class,b=c.Element,f=UI.TouchEvent,d=c({name:"EventDispatcher",parent:b,constructor:function(){var i=false;var h=false;return{_shouldAttemptToRecognize:function(){return this.enabled()},_recognizeEvents:function(l){var j=true;var k=l;if(this._shouldAttemptToRecognize()){switch(k.type){case f.Start:h=true;j=this.eventStart(k);break;case f.Move:if(h==true){j=this.eventDrag(k)}else{j=this.eventMove(k)}break;case f.End:h=false;j=this.eventEnd(k);break;case f.Cancel:h=false;j=this.eventCancel(k);break;default:h=false;break}}return j},_bindEvents:function(){if(i==true){return}i=true;var j=this._instance();if(this.hasElement()){this.bind(f.Start,function(k){return j._recognizeEvents(k)});this.bind(f.Move,function(k){return j._recognizeEvents(k)});this.bind(f.End,function(k){return j._recognizeEvents(k)});if(!Event.hasTouch){}else{this.bind(f.Cancel,function(k){return j._recognizeEvents(k)})}}},init:function(){var j=this._super("init",arguments);if(j){return this}},destroy:function(){if(i==true){this.unbind(f.Start);this.unbind(f.Move);this.unbind(f.End);this.unbind(f.Cancel);i=false}this._super().destroy.apply(this._super(),arguments)},eventMove:function(j){return true},eventStart:function(j){return true},eventDrag:function(j){return true},eventEnd:function(j){return true},eventEnter:function(j){return true},eventLeave:function(j){return true},eventCancel:function(j){return true}}}}),a=c({name:"UIView",parent:d,constructor:function(){var h=[];return{addSubview:function(i){h.push(i);this.element().appendChild(i.element());this.needsDisplay()},superview:function(){return this.parent},removeFromSuperview:function(){var i=this.superview();this.remove();i.needsDisplay()},needsDisplay:function(){}}}})})(window);(function(d,f){var c=UI.Class,b=c.Responder,e=c({name:"UIController",parent:b,constructor:function(){var g;return{__construct:function(){g=this;this.init.apply(this,arguments)},__destruct:function(){g=f},init:function(){return this}}}}),a=c({name:"UIMacroController",parent:e,constructor:function(){return{init:function(){var g=this._super("init",arguments);if(g){return this}}}}})})(window);(function(h,e){var a=UI.Class,f=UI.Helper,b=a.IObject,i={Possible:10,Began:21,Changed:22,Ended:23,Recognized:23,Cancelled:41,Failed:44},m=[[i.Possible,i.Recognized,true,true],[i.Possible,i.Failed,false,true],[i.Possible,i.Began,true,false],[i.Began,i.Changed,true,false],[i.Began,i.Cancelled,true,true],[i.Began,i.Ended,true,true],[i.Changed,i.Changed,true,false],[i.Changed,i.Cancelled,true,true],[i.Changed,i.Ended,true,true]],o=function(p){var q=m[p];return{fromState:q[0],toState:q[1],shouldNotify:q[2],shouldReset:q[3]}},l=function(q,p){this.target=q;this.action=p},c=a({name:"UIGestureRecognizer",parent:b,constructor:function(){var w=null;var x={shouldBegin:false,shouldReceiveTouch:false,shouldRecognizeSimultaneouslyWithGestureRecognizer:false};var q=i.Possible;var r=[];var v=[];for(var u in m){v[u]=new o(u)}var s=false;var p=null;return{cancelsTouchesInView:true,delaysTouchesBegan:false,delaysTouchesEnded:true,_recognizeTouches:function(z,y){var t=true;if(this._shouldAttemptToRecognize()){_trackingTouches=z;switch(y.type){case TouchEvent.Start:s=true;t=this._gesturesBegan(z,y);break;case TouchEvent.Move:if(!Event.hasTouch){if(s==false){return false}}t=this._gesturesMoved(z,y);break;case TouchEvent.End:s=false;t=this._gesturesEnded(z,y);break;case TouchEvent.Cancel:s=false;t=this._discreteGestures(z,y);break;default:s=false;break}}return t},_gestureObject:function(t){if(arguments.length==0){return p}var y=this;p=t;p.bind(TouchEvent.Start,function(z){return y._recognizeTouches(z.touches,z)});p.bind(TouchEvent.Move,function(z){return y._recognizeTouches(z.touches,z)});p.bind(TouchEvent.End,function(z){return y._recognizeTouches(z.touches,z)});p.bind(TouchEvent.Cancel,function(z){return y._recognizeTouches(z.touches,z)})},_init:function(){q=i.Possible;this.cancelsTouchesInView=true;this.delaysTouchesBegan=false;this.delaysTouchesEnded=true;r=[];_trackingTouches=[];this.init()},init:function(){},destroy:function(){if(p){p.unbind(TouchEvent.Start);p.unbind(TouchEvent.Move);p.unbind(TouchEvent.End);p.unbind(TouchEvent.Cancel)}this._super("destroy",arguments)},delegate:function(t){if(arguments.length==0){return w}w=t;x.shouldBegin=(typeof w.shouldBegin=="function");x.shouldReceiveTouch=(typeof w.shouldReceiveTouch=="function");x.shouldRecognizeSimultaneouslyWithGestureRecognizer=(typeof w.shouldRecognizeSimultaneouslyWithGestureRecognizer=="function")},addTarget:function(z,t){var y=new l();y.target=z;y.action=t||z._recognizeTouches||function(){};Array.add(r,y)},removeTarget:function(z,t){var y=new l();y.target=z;y.action=t||z._recognizeTouches||function(){};Array.remove(r,y)},numberOfTouches:function(){return _trackingTouches.length},state:function(A,y){if(arguments.length==0){return q}var C=null;for(var z=0;z<v.length;z++){if(v[z].fromState==q&&v[z].toState==A){C=v[z];break}}if(C){q=C.toState;if(!y&&C.shouldNotify){for(var t in r){var B=r[t];if(typeof B.action=="function"){B.action.call(B.target,this)}}}if(C.shouldReset){this.reset()}}},isContainedView:function(z){var t=$(z.srcElement);var C=$(p.element());var B=C;var A=false;if(B[0]==t[0]){return true}var y=0;while(B.length>0&&y<20){if(B[0]===t[0]){A=true;break}B=B.parent();y=y+1}if(A==false){t=$(p.element());C=$(z.srcElement);B=C;y=0;while(B.length>0&&y<20){if(B[0]===t[0]){A=true;break}B=B.parent();y=y+1}}return A},reset:function(){q=i.Possible;_trackingTouches=[]},canPreventGestureRecognizer:function(t){return true},canBePreventedByGestureRecognizer:function(t){return true},ignoreTouch:function(y,t){},_shouldAttemptToRecognize:function(){return(p&&p.enabled()&&q!=i.Failed&&q!=i.Cancelled&&q!=i.Ended)},_gesturesBegan:function(y,t){return true},_gesturesMoved:function(y,t){return true},_gesturesEnded:function(y,t){return true},_discreteGestures:function(y,t){return true}}},"static":{State:i}}),g=a({name:"UITapGestureRecognizer",parent:c,constructor:function(){var p=0;var q=new Date();return{init:function(r,s){},_gesturesBegan:function(s,r){return true},_gesturesMoved:function(s,r){p=0;return true},_gesturesEnded:function(u,r){var s=new Date();var t=(s.getTime()*0.001)-(q.getTime()*0.001);q=s;if(t>0.3){p=0}p=p+1;if(p>=2){p=0;return false}return true},_discreteGestures:function(s,r){p=0;return true}}}}),d={Unknown:1,Portrat:2,Landscape:3,All:4},k=a({name:"UIPanGestureRecognizer",parent:c,constructor:function(){var v=1;var r=10;var x={x:0,y:0};var w={x:0,y:0};var s=null;var u=d.Landscape;var q=d.Unknown;var p=false;var t=60;return{_gesturesBegan:function(z,y){var A=new Event(z,y);s=A;w={x:A.offsetX,y:A.offsetY};q=d.Unknown;p=false;if(!Event.hasTouch){return false}return true},_gesturesMoved:function(D,A){var C=new Event(D,A);var z=this.state();var G={x:C.offsetX,y:C.offsetY};var H={x:G.x-w.x,y:G.y-w.y};w=G;s=C;if(p==false){var E=3.1415926535898;var F=Math.atan2(H.y,H.x);var B=(F==0)?0:(F*180/E);q=(Math.abs(B)>t&&Math.abs(B)<(180-t))?d.Portrat:d.Landscape;p=true}if(u==d.Unknown||u==q){var y=this.isContainedView(A);if(z==i.Possible&&C&&y){this.translation(H);_lastMovementTime=A.timeStamp;this.state(i.Began)}else{if(z==i.Began||z==i.Changed){if(C){if(this._translate(H,A)){this.state(i.Changed)}}else{this.state(i.Cancelled)}}else{this.state(i.Cancelled)}}return false}if(!Event.hasTouch){return false}return true},_gesturesEnded:function(B,y){var z=this.state();if(z==i.Began||z==i.Changed){var D=s;var C={x:0,y:0};if(D){this._translate(C,y);this.state(i.Ended)}else{this.state(i.Cancelled)}}else{this.state(i.Cancelled)}var A=(u===q)?false:true;s=null;q=d.Unknown;p=false;if(!Event.hasTouch){return false}return A},_discreteGestures:function(z,y){s=null;q=d.Unknown;p=false;return true},init:function(y,z,A){u=(z==e)?u:z;t=(A==e)?t:parse_int(A);return this},destroy:function(){this._super("destroy",arguments)},translationInView:function(y){return x},_translate:function(A,y){var z=y.timeStamp-_lastMovementTime;if(!(A.x==0&&A.y==0)&&z>0){x.x+=A.x;x.y+=A.y;_velocity.x=A.x/z;_velocity.y=A.y/z;_lastMovementTime=y.timeStamp;return true}return true},translation:function(z,y){_velocity={x:0,y:0};x=z},reset:function(){this._super().reset();x={x:0,y:0};_velocity={x:0,y:0}},velocityInView:function(y){return _velocity}}},"static":{Interaction:d}}),n={Right:1<<0,Left:1<<1,Up:1<<2,Down:1<<3},j=a({name:"UISwipeGestureRecognizer",parent:c,constructor:function(){var x=1;var r=10;var z={x:0,y:0};var u={x:0,y:0};var y={x:0,y:0};var s=null;var v=d.Landscape;var q=d.Unknown;var p=false;var t=60;var w=n.Right;return{direction:function(A){if(arguments.length==0){return w}w=A},_gesturesBegan:function(B,A){var C=new Event(B,A);s=C;y={x:C.offsetX,y:C.offsetY};q=d.Unknown;p=false;if(!Event.hasTouch){return false}return true},_gesturesMoved:function(F,C){var E=new Event(F,C);var B=this.state();var I={x:E.offsetX,y:E.offsetY};var J={x:I.x-y.x,y:I.y-y.y};y=I;s=E;if(p==false){var G=3.1415926535898;var H=Math.atan2(J.y,J.x);var D=(H==0)?0:(H*180/G);q=(Math.abs(D)>t&&Math.abs(D)<(180-t))?d.Portrat:d.Landscape;p=true}if(v==d.Unknown||v==q){var A=this.isContainedView(C);if(B==i.Possible&&E&&A){this.translation(J);_lastMovementTime=C.timeStamp;this.state(i.Began,true)}else{if(B==i.Began||B==i.Changed){if(E){if(this._translate(J,C)){this.state(i.Changed,true)}}else{this.state(i.Cancelled,true)}}else{this.state(i.Cancelled,true)}}return false}if(!Event.hasTouch){return false}return true},_gesturesEnded:function(E,B){var C=this.state();if(C==i.Began||C==i.Changed){var G=s;var F={x:0,y:0};var A=true;if(G){this._translate(F,B);if(Math.abs(z.x)>10){if(z.x>0&&w==n.Right){A=false}else{if(z.x<0&&w==n.Left){A=false}}}this.state(i.Ended,A)}else{this.state(i.Cancelled,true)}}else{this.state(i.Cancelled,true)}var D=(v===q)?false:true;s=null;q=d.Unknown;p=false;if(!Event.hasTouch){return false}return D},_discreteGestures:function(B,A){s=null;q=d.Unknown;p=false;return true},translation:function(B,A){z=B},_translate:function(C,A){var B=A.timeStamp-_lastMovementTime;if(!(C.x==0&&C.y==0)&&B>0){z.x+=C.x;z.y+=C.y;_lastMovementTime=A.timeStamp;return true}return true},init:function(A,B,C){v=(B==e)?v:B;t=(C==e)?t:parse_int(C);return this},destroy:function(){this._super("destroy",arguments)}}},"static":{Direction:n}})})(window);(function(b,f){var a=UI.Class,e=function(h,g){return{userInfo:h,arguments:g}},d=function(h,g){return{post:function(){g.apply(h,arguments)}}},c=function(){var g={};return{addObserver:function(m,k,l){if(k.indexOf("")!==-1){var j=k.split(" ");var i=this;if(j.length>1){Array.each(j,function(n,o){i.addObserver(m,o,l)});return}}if(g[k]==f){g[k]=[]}var h=new d(m,l);g[k].push(h)},postNotification:function(i,l){if(g[i]==f){return}var h=Array.prototype.slice.call(arguments,0);h.shift();var k=new e(l,h);var j=g[i];Array.each(j,function(n,m){m.post.call(m,k)})}}};e.defaultCenter=new c();if(UI.Notification===f){UI.Notification=e}})(window);(function(window,undefined){var EscapeStrings={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},ReqularExpression={white:/\s*/,space:/\s+/,equals:/\s*=/,curly:/\s*\}/,nonSpace:/\S/,variable:/\$[\w'-]*/,command:/if|loop|\=|\//},Config={tags:["{{","}}"]},Context=function Context(data,parent){var _data=data,_parent=parent;return{get:function(key){if(isVariable(key)){key=getVariable(key)}if(key==="this"){return _data}return _data[key]},convert:function(string){var match=string.match(/\$[\w'-]*/g);if(match&&match.length>0){var i,key,value;for(i in match){key=getVariable(match[i]);value=this.get(key);if(key==="this"){value=_data}if(typeof value==="string"){string=string.replace(match[i],"'"+value+"'")}else{if(typeof value==="number"){string=string.replace(match[i],value)}else{if(typeof value==="object"){}}}}}return string},parent:function(){return _parent},data:function(){return _data},child:function(value){return new Context(value,this)}}},Template=function Template(html){var _tokens=[];return{parse:function(html,tags){_tokens=parseHTML(html,tags)},render:function(data){var context=new Context(data);return this.renderTokens(_tokens,context,0)},renderTokens:function(tokens,context,depth){var buffer="";var self=this;var token,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token.type){case"loop":value=context.get(token.value);if(!value){continue}if(Array.isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token.data,context.child(value[j]),depth+1)}}else{if(typeof value==="object"||typeof value==="string"){buffer+=this.renderTokens(token.data,context.child(value),depth+1)}else{if(isFunction(value)){}else{buffer+=this.renderTokens(token.data,context,depth+1)}}}break;case"if":value=context.convert(token.value);if(eval(value)===true){buffer+=this.renderTokens(token.data,context,depth+1)}break;case"=":case"name":value=context.get(token.value);if(typeof value==="object"){value=JSON.stringify(value)}if(value!=null){buffer+=escapeHTML(value)}break;case"text":buffer+=token.value;break}}return buffer},tokens:function(){return _tokens}}},TemplateManager=(function TemplateManager(){return{parse:function(html){var template=new Template();template.parse(html);return template},render:function(template,data){if(typeof template==="string"){template=this.parse(template)}return template.render(data)}}})();function parseHTML(html,tags){if(!html){return[]}var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;var regExp={};function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length){delete tokens[spaces.pop()]}}else{spaces=[]}hasTag=false;nonSpace=false}function compileTags(tags){if(typeof tags==="string"){tags=tags.split(ReqularExpression.space,2)}if(!Array.isArray(tags)||tags.length!==2){throw new Error("Invalid tags: "+tags)}regExp.openingTag=new RegExp(escapeRegExp(tags[0])+"\\s*");regExp.closingTag=new RegExp("\\s*"+escapeRegExp(tags[1]));regExp.closingCurly=new RegExp("\\s*"+escapeRegExp("}"+tags[1]))}compileTags(tags||Config.tags);var scanner=new Scanner(html);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(regExp.openingTag);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push({type:"text",value:chr,start:start,end:start+1})}start=start+1;if(chr==="\n"){stripSpace()}}if(!scanner.scan(regExp.openingTag)){break}hasTag=true;type=scanner.scan(ReqularExpression.command)||"name";scanner.scan(ReqularExpression.white);value=scanner.scanUntil(regExp.closingTag);if(!scanner.scan(regExp.closingTag)){throw new Error("Unclosed tag at "+scanner.pos)}token={type:type,value:value,start:start,end:scanner.pos};tokens.push(token);if(type==="loop"||type==="if"){sections.push(token)}else{if(type==="/"){openSection=sections.pop()}}}openSection=sections.pop();if(openSection){throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos)}return nestTokens(squashTokens(tokens))}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function(){return this.tail===""};Scanner.prototype.scan=function(re){var match=this.tail.match(re);if(!match||match.index!==0){return""}var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function(re){var index=this.tail.search(re),match;switch(index){case -1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function isFunction(object){return typeof object==="function"}function isWhitespace(string){return !RegExp.prototype.test.call(ReqularExpression.nonSpace,string)}function isVariable(string){return RegExp.prototype.test.call(ReqularExpression.variable,string)}function getVariable(string){var index=string.search(/\$/);if(index>-1){return string.substring(index+1)}return string}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function escapeHTML(string){return String(string).replace(/[&<>"'\/]/g,function(s){return EscapeStrings[s]})}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token.type){case"loop":case"if":collector.push(token);sections.push(token);collector=token.data=[];break;case"/":section=sections.pop();if(section){section.offset=token.start;collector=sections.length>0?sections[sections.length-1].data:nestedTokens}break;default:collector.push(token)}}return nestedTokens}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token.type==="text"&&lastToken&&lastToken.type==="text"){lastToken.value+=token.value;lastToken.end=token.end}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}UI.register("Template",TemplateManager)})(window);
/*! UIKit & UIComponent */
(function(e,f){var c=UI.Class,b=c.Responder,a=function a(){return{didStartDrag:false,didDrag:false,didEndDrag:false}},d=c({name:"UIPluginDrag",parent:b,constructor:function(){var g,i,h,j;i={element:f,eventHandler:f,interaction:{hasTouch:("ontouchstart" in e)?true:false,startTime:0,beginPoint:{x:0,y:0},currentPoint:{x:0,y:0},dragOffset:{x:0,y:0},dragging:false,startInteraction:false,globalUp:false,globalMove:false}};h=f;j=new a();return{_event:function(n){var m=0,l=0,k=0;if(n.originalEvent&&n.originalEvent.touches!=f){var o=n.originalEvent.touches[0];if(o){k=o.timeStamp;m=o.clientX;l=o.clientY}else{k=n.timeStamp;m=n.pageX;l=n.pageY}}else{if(n.touches!=f){var o=n.touches[0];if(o){k=o.timeStamp;m=o.clientX;l=o.clientY}else{k=n.timeStamp;m=n.pageX;l=n.pageY}}else{k=n.timeStamp;m=n.pageX;l=n.pageY}}return{timeStamp:k||(new Date()).getTime(),pageX:m,pageY:l}},_timeStamp:function(){return(new Date()).getTime()},_start:function(l){var k=this._event(l);i.interaction.startTime=this._timeStamp();i.interaction.beginPoint.x=i.interaction.currentPoint.x=k.pageX;i.interaction.beginPoint.y=i.interaction.currentPoint.y=k.pageY;i.interaction.clickable=true;i.interaction.startInteraction=true;i.interaction.dragOffset.x=0;i.interaction.dragOffset.y=0;i.interaction.globalUp=true;document.body.addEventListener(i.interaction.hasTouch?"touchend":"mouseup",i.eventHandler,false);return true},_move:function(p){p.preventDefault();if(i.interaction.startInteraction){var k,l,o,m,r,q,n=this._event(p),k={x:n.pageX,y:n.pageY};l={x:i.interaction.currentPoint.x,y:i.interaction.currentPoint.y};if(i.interaction.dragging==false){if(j.didStartDrag){h.didStartDrag(this)}this.dispatchEvent("startDragging",this)}i.interaction.clickable=false;i.interaction.dragging=true;i.interaction.currentPoint.x=n.pageX;i.interaction.currentPoint.y=n.pageY;if(i.interaction.dragging==true){o=k.x-l.x;m=k.y-l.y;i.interaction.dragOffset.x+=o;i.interaction.dragOffset.y+=m;if(i.interaction.globalMove==false){i.interaction.globalMove=true;document.body.addEventListener(i.interaction.hasTouch?"touchmove":"mousemove",i.eventHandler,true)}if(j.didDrag){h.didDrag(this,o,m)}this.dispatchEvent("dragging",this)}}return true},_end:function(r,m){if(i.interaction.globalMove===true){i.interaction.globalMove=false;document.body.removeEventListener(i.interaction.hasTouch?"touchmove":"mousemove",i.eventHandler,true)}if(i.interaction.globalUp===true){i.interaction.globalUp=false;document.body.removeEventListener(i.interaction.hasTouch?"touchend":"mouseup",i.eventHandler,false)}if(i.interaction.startInteraction){var q,k,l,p,n,o=this._event(r);q=(o.timeStamp||this._timeStamp())-i.interaction.startTime;if(i.interaction.dragging==true){i.interaction.dragging=false;if(j.didEndDrag){h.didEndDrag(this)}this.dispatchEvent("endDragging",this,q,m)}i.interaction.startInteraction=false}return true},_eventHandler:function(l){var k=true;switch(l.type){case"mousedown":case"touchstart":k=this._start(l);break;case"mousemove":case"touchmove":k=this._move(l);break;case"mouseup":case"mouseleave":case"touchend":case"touchcancel":k=this._end(l,(l.type==="mouseleave"));break}return k},delegate:function(k){if(k===f){return}h=k;j.didStartDrag=(typeof h.didStartDrag==="function");j.didDrag=(typeof h.didDrag==="function");j.didEndDrag=(typeof h.didEndDrag==="function")},setupElements:function(){this.delegate(g)},setupEvents:function(){i.element=g.element();i.eventHandler=this.context(this._eventHandler,this);g.addEventListener(i.interaction.hasTouch?"touchstart":"mousedown",i.eventHandler,true);g.addEventListener(i.interaction.hasTouch?"touchmove":"mousemove",i.eventHandler,true);g.addEventListener(i.interaction.hasTouch?"touchend":"mouseup",i.eventHandler,true);if(i.interaction.hasTouch){g.addEventListener("touchcancel",i.eventHandler,true)}else{$(i.element).bind("mousewheel",i.eventHandler);$(document).bind("mouseleave",i.eventHandler)}},destroy:function(){g.removeEventListener("mousedown",i.eventHandler,true);g.removeEventListener("mousemove",i.eventHandler,true);g.removeEventListener("mouseup",i.eventHandler,true);g.removeEventListener("touchstart",i.eventHandler,true);g.removeEventListener("touchmove",i.eventHandler,true);g.removeEventListener("touchend",i.eventHandler,true);g.removeEventListener("touchcancel",i.eventHandler,true);document.body.removeEventListener("mouseup",i.eventHandler,false);document.body.removeEventListener("touchend",i.eventHandler,false);$(i.element).unbind("mousewheel");$(document).unbind("touchstart");$(document).unbind("mouseleave");this._super("destroy",arguments)},init:function(k){var l=this._super("init",arguments);if(l){g=k;this.setupElements();this.setupEvents();return this}}}}})})(window);(function(d,f){var c=UI.Class,e=UI.Core,b=c.Element,g=c.Tween,a=c({name:"UICore",parent:b,constructor:function(){return{init:function(i){var h=this._super("init",arguments);if(h){return this}}}}})})(window);(function(i,c){var b=UI.Class,f=b.UICore,d=b({name:"UIGraph",parent:f,constructor:function(){var m,l;return{_createCanvas:function(){var n,p=this.element().getElementsByTagName("canvas");if(p.length>0){n=p[0]}if(n==c){n=document.createElement("canvas")}var o=this.size();n.setAttribute("width",o.width*2);n.setAttribute("height",o.height*2);$(n).css({width:o.width,height:o.height});n.imageSmoothingEnabled=true;return n},canvasSize:function(){return{width:m.width,height:m.height}},canvas:function(){return m},context:function(){return l},init:function(o){var n=this._super("init",arguments);if(n){m=this._createCanvas();l=m.getContext("2d");if(!this.element().contains(m)){this.element().appendChild(m)}l.clearRect(0,0,m.width,m.height);return this}},clear:function(){l.clearRect(0,0,m.width,m.height)},drawRect:function(){}}}}),e=b({name:"UIGraphLine",parent:d,constructor:function(){var o,l,m={scaleLineColor:"rgba(0,0,0,.05)",scaleLineWidth:2,scaleFontStyle:"normal",scaleFontSize:16,scaleFontFamily:"'Arial'",scaleFontColor:"rgba(0,0,0,.5)",bezierCurve:true,strokeWidth:4,pointSize:8,pointStrokeWidth:4,margin:{top:20,right:30,bottom:40,left:60},scaleStepCount:20},n=[];return{calculateSegments:function(t){var q=[];var p=Math.ceil(l.size.width/(t.length-1));for(var r=0;r<t.length;r++){var s={cx:(r==0)?l.min.x:l.min.x+p*(r-0.5),cy:(r==0)?l.min.y:l.min.y+l.size.height-l.size.height*((t[r-1]-l.minValue)/(l.maxValue-l.minValue)),x:l.min.x+(r*p),y:l.min.y+l.size.height-l.size.height*((t[r]-l.minValue)/(l.maxValue-l.minValue))};q.push(s)}return q},drawRect:function(){var C=this.context();var A=l.size.height/(n.length-1);for(var u=0;u<o.datasets.length;u++){var x;var s=o.datasets[u];var v=this.calculateSegments(s.data);var B,y,w,p,t,z;var q=Math.ceil((l.size.width)/(v.length-1));B=s.strokeColor;y=m.strokeWidth;w=m.bezierCurve;p=s.fillColor;t=m.pointSize;z=s.pointColor;C.beginPath();x=v[0];C.moveTo(x.x,x.y);C.stroke();for(var r=1;r<v.length;r++){x=v[r];C.strokeStyle=B;C.lineWidth=y;if(w===true){C.bezierCurveTo(x.cx,x.cy,x.cx,x.y,x.x,x.y)}else{C.lineTo(x.x,x.y)}C.stroke()}if(p!==c){C.lineTo(x.x,l.max.y);C.lineTo(l.min.x,l.max.y);C.closePath();C.fillStyle=p;C.fill()}else{C.closePath()}C.fillStyle=z;C.strokeStyle="rgba(255,255,255,1)";C.lineWidth=m.pointStrokeWidth;for(var r=0;r<v.length;r++){x=v[r];C.beginPath();C.arc(x.x,x.y,t,0,Math.PI*2,false);C.fill();C.stroke()}C.closePath()}},drawScale:function(){var t=this.canvasSize();var q=this.context();var p=Math.ceil(l.size.width/(o.labels.length-1));var u=l.size.height/(n.length-1);q.fillStyle=m.scaleFontColor;q.font=m.scaleFontStyle+" "+m.scaleFontSize+"px "+m.scaleFontFamily;q.textAlign="center";for(var s=0;s<o.labels.length;s++){q.fillText(o.labels[s],l.min.x+s*p,l.max.y+(m.margin.bottom-m.scaleFontSize));q.beginPath();q.moveTo(l.min.x+s*p,l.min.y);q.lineWidth=m.scaleLineWidth;q.strokeStyle=m.scaleLineColor;q.lineTo(l.min.x+s*p,l.max.y+8);q.stroke()}q.fillStyle=m.scaleFontColor;q.font=m.scaleFontStyle+" "+m.scaleFontSize+"px "+m.scaleFontFamily;q.textAlign="right";q.textBaseline="middle";for(var r=0;r<n.length;r++){if(r<n.length){q.fillText(n[r],l.min.x-(m.pointSize+5),l.max.y-r*u)}q.beginPath();q.moveTo(l.min.x-8,l.max.y-r*u);q.lineWidth=m.scaleLineWidth;q.strokeStyle=m.scaleLineColor;q.lineTo(l.max.x,l.max.y-r*u);q.stroke()}q.closePath()},calculate:function(){var r=this.canvasSize();var s=0;var u=100;if(o.range!==c&&o.range.minValue!==c){s=o.range.minValue}else{for(var q=0;q<o.datasets.length;q++){var t=o.datasets[q];s=Math.min(Math.min.apply(t.data,t.data),s)}s=Math.floor(s/m.scaleStepCount)*m.scaleStepCount;s=Math.floor(s*0.01)*100}if(o.range!==c&&o.range.maxValue!==c){u=o.range.maxValue}else{for(var q=0;q<o.datasets.length;q++){var t=o.datasets[q];u=Math.max(Math.max.apply(t.data,t.data),u)}u=Math.ceil(u/m.scaleStepCount)*m.scaleStepCount;u=Math.ceil(u*0.01)*100}l={min:{x:m.margin.left,y:m.margin.top},max:{x:r.width-m.margin.right,y:r.height-m.margin.bottom},size:{width:r.width-m.margin.left-m.margin.right,height:r.height-m.margin.bottom-m.margin.top},minValue:s,maxValue:u};var p=(u-s)/m.scaleStepCount;n=[];for(var q=0;q<=m.scaleStepCount;q++){n[q]=Math.ceil(s+q*p)}},init:function(q,r){var p=this._super("init",arguments);if(p){o=r;this.clear();this.calculate();this.drawScale();this.drawRect();return this}}}}}),a=b({name:"UIGraphBar",parent:d,constructor:function(){var o,l,m={scaleLineColor:"rgba(0,0,0,.05)",scaleLineWidth:2,scaleFontFamily:"'Arial'",scaleFontStyle:"normal",scaleFontSize:16,scaleFontColor:"rgba(0,0,0,.5)",strokeWidth:2,pointSize:8,pointStrokeWidth:4,margin:{top:20,right:30,bottom:40,left:60},scaleStepCount:10},n=[];return{calculateSegments:function(q,u){var s=[];var x=this.canvasSize();var v=Math.ceil(l.size.width/(q.length));var w=Math.ceil(((v-m.scaleLineWidth*2)*0.8-((m.strokeWidth*2+4)*o.datasets.length))/o.datasets.length);var p=(v-(w*o.datasets.length))/o.datasets.length;for(var r=0;r<q.length;r++){var t=[{x:l.min.x+(r*v)+p+(4+w)*u,y:l.max.y},{x:l.min.x+(r*v)+p+(4+w)*u,y:l.max.y-l.size.height*(q[r]/l.maxValue)},{x:l.min.x+(r*v)+p+(4+w)*u+w,y:l.max.y-l.size.height*(q[r]/l.maxValue)},{x:l.min.x+(r*v)+p+(4+w)*u+w,y:l.max.y}];s.push(t)}return s},drawRect:function(){var x=this.context();for(var s=0;s<o.datasets.length;s++){var u;var r=o.datasets[s];var t=this.calculateSegments(r.data,s);var y,v,w;y=r.strokeColor;v=m.strokeWidth;w=r.fillColor;for(var q=0;q<t.length;q++){x.beginPath();u=t[q][0];x.moveTo(u.x,u.y);for(var p=1;p<t[q].length;p++){u=t[q][p];x.lineTo(u.x,u.y)}if(y){x.strokeStyle=y;x.lineWidth=v;x.stroke()}x.fillStyle=w;x.closePath();x.fill()}}},drawScale:function(){var t=this.canvasSize();var q=this.context();q.fillStyle=m.scaleFontColor;q.font=m.scaleFontStyle+" "+m.scaleFontSize+"px "+m.scaleFontFamily;q.textAlign="center";var p=Math.ceil(l.size.width/(o.labels.length));for(var s=0;s<=o.labels.length;s++){if(s<o.labels.length){q.fillText(o.labels[s],l.min.x+s*p+p*0.5,l.max.y+(m.margin.bottom-m.scaleFontSize))}q.beginPath();q.moveTo(l.min.x+s*p,l.min.y);q.lineWidth=m.scaleLineWidth;q.strokeStyle=m.scaleLineColor;q.lineTo(l.min.x+s*p,l.max.y);q.stroke()}q.fillStyle=m.scaleFontColor;q.font=m.scaleFontStyle+" "+m.scaleFontSize+"px "+m.scaleFontFamily;q.textAlign="right";q.textBaseline="middle";var u=l.size.height/(n.length-1);for(var r=0;r<n.length;r++){if(r>0){q.fillText(n[r],l.min.x-(m.pointSize+5),l.max.y-r*u)}q.beginPath();q.moveTo(l.min.x,l.max.y-r*u);q.lineWidth=m.scaleLineWidth;q.strokeStyle=m.scaleLineColor;q.lineTo(l.max.x,l.max.y-r*u);q.stroke()}q.closePath()},calculate:function(){var r=this.canvasSize();var t=100;for(var q=0;q<o.datasets.length;q++){var s=o.datasets[q];t=Math.max(Math.max.apply(s.data,s.data),t)}t=Math.ceil(t/m.scaleStepCount)*m.scaleStepCount;l={min:{x:m.margin.left,y:m.margin.top},max:{x:r.width-m.margin.right,y:r.height-m.margin.bottom},size:{width:r.width-m.margin.left-m.margin.right,height:r.height-m.margin.bottom-m.margin.top},maxValue:t};n=[];var p=Math.ceil(t/m.scaleStepCount);for(var q=0;q<=m.scaleStepCount;q++){n[q]=q*p}},init:function(q,r){var p=this._super("init",arguments);if(p){o=r;this.clear();this.calculate();this.drawScale();this.drawRect();return this}}}}}),j=b({name:"UIGraphPie",parent:d,constructor:function(){var m,l={strokeWidth:4};return{calculateSegments:function(q){var s=[];var v=this.canvasSize();var p,t;p=0;for(var r=0;r<q.length;r++){p+=q[r].value}t=-Math.PI/2;for(var r=0;r<q.length;r++){var o=(q[r].value/p)*(Math.PI*2);var u=l.strokeWidth;var n="rgba(255,255,255,1)";s.push({x:v.width*0.5,y:v.height*0.5,cumulativeAngle:t,segmentAngle:o,segmentStrokeWidth:u,segmentStrokeColor:n,fillColor:q[r].color});t+=o}return s},drawRect:function(){var n=this.context();var u=m;var s=this.canvasSize();var q=this.calculateSegments(u.data);var t,p,o;p=Math.min(s.height*0.5,s.width*0.5)-5;for(var r=0;r<q.length;r++){t=q[r];n.beginPath();n.arc(t.x,t.y,p,t.cumulativeAngle,t.cumulativeAngle+t.segmentAngle);n.lineTo(t.x,t.y);n.closePath();n.fillStyle=t.fillColor;n.fill();if(t.segmentStrokeWidth){n.lineWidth=t.segmentStrokeWidth;n.strokeStyle=t.segmentStrokeColor;n.stroke()}}},init:function(o,p){var n=this._super("init",arguments);if(n){m=p;this.clear();this.drawRect();return this}}}}}),h=b({name:"UIGraphRadar",parent:d,constructor:function(){var o,l,m={strokeWidth:2,pointSize:8,scaleFontFamily:"'Arial'",scaleFontStyle:"normal",scaleFontSize:12,scaleFontColor:"rgba(0,0,0,.5)",scaleLineColor:"rgba(0,0,0,.05)",scaleLineWidth:2,scaleBackgroundColor:"rgba(255,255,255,1)",pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontColor:"rgba(0,0,0,.5)",pointLabelFontSize:14,angleShowLineOut:true,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,scaleStepCount:10,paddingSize:{width:160,height:160}},n=[];return{calculateSegments:function(s){var q=[];var p=0;for(var r=0;r<s.length;r++){p+=s[r]}for(var r=0;r<s.length;r++){q.push({x:0,y:(l.size.width*0.5)*(s[r]/100)*-1})}return q},drawScale:function(){var x=this.context();x.save();x.translate(l.center.x,l.center.y);if(m.angleShowLineOut){x.strokeStyle=m.angleLineColor;x.lineWidth=m.angleLineWidth;for(var t=0;t<l.count;t++){x.rotate(l.rotationDegree);x.beginPath();x.moveTo(0,0);x.lineTo(0,-l.maxSize);x.stroke()}}var p=l.maxSize/m.scaleStepCount;for(var s=0;s<m.scaleStepCount;s++){x.beginPath();x.strokeStyle=m.scaleLineColor;x.lineWidth=m.scaleLineWidth;x.moveTo(0,-p*(s+1));for(var r=0;r<l.count;r++){x.rotate(l.rotationDegree);x.lineTo(0,-p*(s+1))}x.closePath();x.stroke();x.textAlign="center";x.font=m.scaleFontStyle+" "+m.scaleFontSize+"px "+m.scaleFontFamily;x.textBaseline="middle";var v=x.measureText(n[s+1]).width;x.fillStyle=m.scaleBackgroundColor;x.beginPath();x.rect(Math.round(-v/2-2),Math.round((-p*(s+1))-m.scaleFontSize*0.5-2),Math.round(v+(2*2)),Math.round(m.scaleFontSize+(2*2)));x.fill();x.fillStyle=m.scaleFontColor;x.fillText(n[s+1],0,-p*(s+1))}for(var q=0;q<o.labels.length;q++){x.font=m.pointLabelFontStyle+" "+m.pointLabelFontSize+"px "+m.pointLabelFontFamily;x.fillStyle=m.pointLabelFontColor;var u=Math.sin(l.rotationDegree*q)*(l.maxSize+m.pointLabelFontSize);var w=Math.cos(l.rotationDegree*q)*(l.maxSize+m.pointLabelFontSize);if(l.rotationDegree*q==Math.PI||l.rotationDegree*q==0){x.textAlign="center";w=w+m.scaleFontSize}else{if(l.rotationDegree*q>Math.PI){x.textAlign="right"}else{x.textAlign="left"}}x.textBaseline="middle";x.fillText(o.labels[q],u,-w)}x.restore()},drawRect:function(){var p=this.context();var t=this.canvasSize();p.translate(l.center.x,l.center.y);for(var s=0;s<o.datasets.length;s++){var u;var v=o.datasets[s];var r=this.calculateSegments(v.data);p.save();p.beginPath();u=r[0];p.moveTo(0,u.y);for(var q=1;q<r.length;q++){u=r[q];p.rotate(l.rotationDegree);p.lineTo(0,u.y)}p.closePath();p.fillStyle=v.fillColor;p.strokeStyle=v.strokeColor;p.lineWidth=m.strokeWidth;p.fill();p.stroke();p.fillStyle=v.strokeColor;p.strokeStyle="rgba(255,255,255,1)";p.lineWidth=4;for(var q=0;q<r.length;q++){u=r[q];p.rotate(l.rotationDegree);p.beginPath();p.arc(0,u.y,m.pointSize,2*Math.PI,false);p.fill();p.stroke()}p.closePath();p.rotate(l.rotationDegree);p.restore()}},calculate:function(){var r=this.canvasSize();r.width=r.width-m.paddingSize.width;r.height=r.height-m.paddingSize.height;var u=100;var s=0;var w=0;var v;for(var q=0;q<o.datasets.length;q++){var t=o.datasets[q];u=Math.max(Math.max.apply(t.data,t.data),u);s=Math.max(s,t.data.length)}u=Math.ceil(u/m.scaleStepCount)*m.scaleStepCount;w=(Math.min(r.width,r.height)*0.5);v=(2*Math.PI)/s;l={center:{x:r.width*0.5+m.paddingSize.width*0.5,y:r.height*0.5+m.paddingSize.height*0.5},size:{width:r.width,height:r.height},rotationDegree:v,count:s,maxValue:u,maxSize:w};n=[];var p=Math.ceil(u/m.scaleStepCount);for(var q=0;q<=m.scaleStepCount;q++){n[q]=q*p}},init:function(q,r){var p=this._super("init",arguments);if(p){o=r;this.clear();this.calculate();this.drawScale();this.drawRect();return this}}}}}),k=b({name:"UIGraphDoughnut",parent:d,constructor:function(){var m,l={strokeWidth:4,percentageInnerCutout:50};return{calculateSegments:function(q){var s=[];var v=this.canvasSize();var p,t;p=0;for(var r=0;r<q.length;r++){p+=q[r].value}t=-Math.PI/2;for(var r=0;r<q.length;r++){var o=(q[r].value/p)*(Math.PI*2);var u=l.strokeWidth;var n="rgba(255,255,255,1)";s.push({x:v.width*0.5,y:v.height*0.5,cumulativeAngle:t,segmentAngle:o,segmentStrokeWidth:u,segmentStrokeColor:n,fillColor:q[r].color});t+=o}return s},drawRect:function(){var u=this.context();var n=m;var v=this.canvasSize();var q=this.calculateSegments(n.data);var r,p,t,s;t=Math.min(v.height*0.5,v.width*0.5)-5;p=t*(l.percentageInnerCutout/100);for(var o=0;o<q.length;o++){r=q[o];u.beginPath();u.arc(r.x,r.y,t,r.cumulativeAngle,r.cumulativeAngle+r.segmentAngle,false);u.arc(r.x,r.y,p,r.cumulativeAngle+r.segmentAngle,r.cumulativeAngle,true);u.closePath();u.fillStyle=r.fillColor;u.fill();if(r.segmentStrokeWidth){u.lineWidth=r.segmentStrokeWidth;u.strokeStyle=r.segmentStrokeColor;u.stroke()}}},init:function(o,p){var n=this._super("init",arguments);if(n){m=p;this.clear();this.drawRect();return this}}}}}),g=b({name:"UIGraphPolarArea",parent:d,constructor:function(){var o,l,m={strokeColor:"rgba(255,255,255,1)",strokeWidth:4,scaleFontFamily:"'Arial'",scaleFontStyle:"normal",scaleFontSize:12,scaleFontColor:"rgba(0,0,0,.5)",scaleLineColor:"rgba(0,0,0,.05)",scaleLineWidth:2,scaleShowLine:true,scaleShowLabels:true,scaleBackgroundColor:"rgba(255,255,255,0.5)",pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontColor:"rgba(0,0,0,.5)",pointLabelFontSize:14,scaleStepCount:10,paddingSize:{width:100,height:100}},n=[];return{calculateSegments:function(t){var q=[];var s,p,u;s=-Math.PI/2;u=(Math.PI*2)/t.length;for(var r=0;r<t.length;r++){p=t[r].value*(l.size.height/100/2);q.push({x:l.center.x,y:l.center.y,radius:p,fromAngle:s,toAngle:s+u,fillColor:t[r].color});s+=u}return q},drawScale:function(){var p=this.context();var t=l.maxSize/m.scaleStepCount;for(var r=0;r<m.scaleStepCount;r++){if(m.scaleShowLine){p.beginPath();p.arc(l.center.x,l.center.y,t*(r+1),0,(Math.PI*2),true);p.strokeStyle=m.scaleLineColor;p.lineWidth=m.scaleLineWidth;p.stroke()}if(m.scaleShowLabels){p.textAlign="center";p.font=m.scaleFontStyle+" "+m.scaleFontSize+"px "+m.scaleFontFamily;var q=n[r+1];var s=p.measureText(q).width;p.fillStyle=m.scaleBackgroundColor;p.beginPath();p.rect(Math.round(l.center.x-s/2-2),Math.round(l.center.y-(t*(r+1))-m.scaleFontSize*0.5-2),Math.round(s+(2*2)),Math.round(m.scaleFontSize+(2*2)));p.fill();p.textBaseline="middle";p.fillStyle=m.scaleFontColor;p.fillText(q,l.center.x,l.center.y-(t*(r+1)))}}},drawRect:function(){var w=this.context();var x=this.canvasSize();var r=this.calculateSegments(o.data);var u,p,t,s,v=(2*Math.PI)/o.data.length;u=Math.min(x.width,x.height)*0.5;t=m.scaleStepCount;p=u/t;for(var q=0;q<r.length;q++){s=r[q];w.beginPath();w.arc(s.x,s.y,s.radius,s.fromAngle,s.toAngle,false);w.lineTo(s.x,s.y);w.closePath();w.fillStyle=s.fillColor;w.fill();w.strokeStyle=m.strokeColor;w.lineWidth=m.strokeWidth;w.stroke()}},calculate:function(){var r=this.canvasSize();r.width=r.width-m.paddingSize.width;r.height=r.height-m.paddingSize.height;var t=100;var u=0;for(var q=0;q<o.data.length;q++){var s=o.data[q];t=Math.max(s.value,t)}t=Math.ceil(t/m.scaleStepCount)*m.scaleStepCount;u=(Math.min(r.width,r.height)*0.5);l={center:{x:r.width*0.5+m.paddingSize.width*0.5,y:r.height*0.5+m.paddingSize.height*0.5},size:{width:r.width,height:r.height},count:o.data.length,maxValue:t,maxSize:u};n=[];var p=Math.ceil(t/m.scaleStepCount);for(var q=0;q<=m.scaleStepCount;q++){n[q]=q*p}},init:function(q,r){var p=this._super("init",arguments);if(p){o=r;this.clear();this.calculate();this.drawRect();this.drawScale();return this}}}}})})(window);(function(g,c){var a=UI.Class,b=a.Element,h=a.Tween,f=a.UICore,e=a({name:"UIScrollContainer",parent:b,constructor:function(){return{}}}),j=function j(l){var k={contentInset:{top:0,left:0,right:0,bottom:0},contentOffset:{x:0,y:0},contentSize:{width:0,height:0},frameSize:{width:0,height:0},pagingSize:{width:0,height:0},allowScrollOffset:{minX:0,minY:0,maxX:0,maxY:0},scrolling:false,scrollBounceVertical:false,scrollBounceHorizontal:false,usePaging:false,useScrollBounceVertical:false,useScrollBounceHorizontal:false,useScrollBar:false,useWheelMouse:false,useMouseLeave:false,useDecelerating:false,resizable:false,interaction:{hasTouch:("ontouchstart" in g)?true:false,target:l,startTime:0,beginPoint:{x:0,y:0},currentPoint:{x:0,y:0},dragOffset:{x:0,y:0},dragging:false,startInteraction:false,clickable:false,globalUp:false,globalMove:false,wheelTimeout:null}};return k},i=a({name:"UIScrollBar",parent:f,constructor:function(){var l,k,m;l=new b("SPAN");return{init:function(p,o){var n=this._super("init",arguments);if(n){m=(typeof o==="string"&&o.toLowerCase()==="horizontal")?"horizontal":"vertical";i.makeCSS();this.addClass("UIScrollBar");this.addClass(m);l.addClass("UIScrollBarThumb");this.append(l);return this}},scroll:function(o,n){k=n;if(m==="horizontal"){this.thumbCss({left:(o/(k.contentSize.width-k.frameSize.width))*(l.width()-this.width())*-1})}else{if(m==="vertical"){this.thumbCss({top:(o/(k.contentSize.height-k.frameSize.height))*(l.height()-this.height())*-1})}}},tintColor:function(n){l.css({"background-color":n})},update:function(s){k=s;if(m==="horizontal"){var r=(k.contentOffset.x/(k.contentSize.width-k.frameSize.width))*(l.width()-this.width())*-1;var p=Math.min(Math.max((k.frameSize.width/k.contentSize.width),0.1),1);var o=p*this.width();this.thumbCss({opacity:(p===1)?0:1,left:r,width:o})}else{if(m==="vertical"){var q=(k.contentOffset.y/(k.contentSize.height-k.frameSize.height))*(l.height()-this.height())*-1;var p=Math.min(Math.max((k.frameSize.height/k.contentSize.height),0.1),1);var n=p*this.height();this.thumbCss({opacity:(p===1)?0:1,top:q,height:n})}}},thumbCss:function(n){l.css(n)}}},staticConstructor:function(){var k=false;return{makeCSS:function(){if(k===true){return}k=true;var m,n,l;m=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";l=".UIScrollBar {}";l+=".UIScrollBar.vertical { width:8px; height:100%; position: absolute; top:0; right:0; background-clip: content-box; border-right: 2px solid transparent; }";l+=".UIScrollBar.vertical .UIScrollBarThumb {width:100%; height:100%; background-color: rgba(95,95,95,0.5); position: absolute; display: block; opacity:0; }";l+=".UIScrollBar.vertical .UIScrollBarThumb { -webkit-transition: opacity 0.1s ease-in-out; }";l+=".UIScrollBar.horizontal { width:100%; height:8px; position: absolute; bottom:0; left:0; background-clip: content-box; border-bottom: 2px solid transparent; }";l+=".UIScrollBar.horizontal .UIScrollBarThumb { width:100%; height:100%; background-color: rgba(95,95,95,0.5); position: absolute; display: block; opacity:0; }";l+=".UIScrollBar.horizontal .UIScrollBarThumb { -webkit-transition: opacity 0.1s ease-in-out; }";if(n.styleSheet){n.styleSheet.cssText=l}else{n.appendChild(document.createTextNode(l))}m.appendChild(n)}}}}),d=a({name:"UIScroll",parent:f,constructor:function(){var p,l,s,o,n,r,q,k,m;p=c;l={scrolling:false,dragging:false,didStartDragging:false,didEndDragging:false,didFinishScrollingAnimation:false};s={vertical:false,horizontal:false};m=new j();r=new i(document.createElement("DIV"),"vertical");q=new i(document.createElement("DIV"),"horizontal");return{_event:function(w){var v=0,u=0,t=0;if(w.originalEvent&&w.originalEvent.touches!=c){var x=w.originalEvent.touches[0];if(x){t=x.timeStamp;v=x.clientX;u=x.clientY}else{t=w.timeStamp;v=w.pageX;u=w.pageY}}else{if(w.touches!=c){var x=w.touches[0];if(x){t=x.timeStamp;v=x.clientX;u=x.clientY}else{t=w.timeStamp;v=w.pageX;u=w.pageY}}else{t=w.timeStamp;v=w.pageX;u=w.pageY}}return{timeStamp:t||(new Date()).getTime(),pageX:v,pageY:u}},_momentum:function(A,u,z,t){var v=0.0006,y={horizontal:{distance:0,speed:0,time:0,decelerating:false},vertical:{distance:0,speed:0,time:0,decelerating:false}};y.vertical.distance=A.y-u.y;y.vertical.speed=Math.abs(y.vertical.distance)/z*0.1;y.vertical.to=(y.vertical.speed*y.vertical.speed)/(2*v)*(y.vertical.distance>0?1:-1);y.vertical.time=Math.round(y.vertical.speed/v);y.top=t.y+y.vertical.to;if(m.scrollBounceVertical===false){y.vertical.time=0;y.top=Math.min(Math.max(y.top*-1,m.allowScrollOffset.minY),m.allowScrollOffset.maxY);y.vertical.decelerating=false}else{if(y.top*-1<m.allowScrollOffset.minY){y.vertical.time=100;y.top=y.vertical.to-m.allowScrollOffset.minY;y.vertical.decelerating=false}else{if(y.top*-1>m.allowScrollOffset.maxY){y.vertical.time=100;y.top=(m.allowScrollOffset.maxY-y.vertical.to)*-1;y.vertical.decelerating=false}else{y.top=t.y+y.vertical.to;y.vertical.decelerating=true}}}y.top=(m.usePaging===true)?Math.round(Math.round(y.top/m.pagingSize.height)*m.pagingSize.height):Math.round(y.top);if(m.useScrollBounceVertical===false){var x=Math.min(Math.max(y.top*-1,m.allowScrollOffset.minY),m.allowScrollOffset.maxY)*-1;if(y.top!==x){y.top=x;y.vertical.decelerating=false}}y.horizontal.distance=A.x-u.x;y.horizontal.speed=Math.abs(y.horizontal.distance)/z*0.1;y.horizontal.to=(y.horizontal.speed*y.horizontal.speed)/(2*v)*(y.horizontal.distance>0?1:-1);y.horizontal.time=Math.round(y.horizontal.speed/v);y.left=t.x+y.horizontal.to;if(m.scrollBounceHorizontal===false){y.horizontal.time=0;y.left=Math.min(Math.max(y.left*-1,m.allowScrollOffset.minX),m.allowScrollOffset.maxX);y.horizontal.decelerating=false}else{if(y.left*-1<m.allowScrollOffset.minX){y.horizontal.time=100;y.left=y.horizontal.to-m.allowScrollOffset.minX;y.horizontal.decelerating=false}else{if(y.left*-1>m.allowScrollOffset.maxX){y.horizontal.time=100;y.top=(m.allowScrollOffset.maxX-y.horizontal.to)*-1;y.horizontal.decelerating=false}else{y.left=t.x+y.horizontal.to;y.horizontal.decelerating=true}}}y.left=(m.usePaging===true)?Math.round(Math.round(y.left/m.pagingSize.width)*m.pagingSize.width):Math.round(y.left);if(m.useScrollBounceHorizontal===false){var w=Math.min(Math.max(y.left*-1,m.allowScrollOffset.minX),m.allowScrollOffset.maxX)*-1;if(y.left!==w){y.left=w;y.horizontal.decelerating=false}}return y},_timeStamp:function(){return(new Date()).getTime()},_start:function(u){var t=this._event(u);m.interaction.startTime=this._timeStamp();m.interaction.beginPoint.x=m.interaction.currentPoint.x=t.pageX;m.interaction.beginPoint.y=m.interaction.currentPoint.y=t.pageY;m.interaction.clickable=true;m.interaction.startInteraction=true;m.interaction.dragOffset.x=0;m.interaction.dragOffset.y=0;k.killAnimation(false);m.interaction.globalUp=true;document.body.addEventListener(m.interaction.hasTouch?"touchend":"mouseup",n,true);return true},_move:function(y){y.preventDefault();if(m.interaction.startInteraction){var t,u,x,v,A,z,w=this._event(y),t={x:w.pageX,y:w.pageY};u={x:m.interaction.currentPoint.x,y:m.interaction.currentPoint.y};if(m.interaction.dragging==false){this.dispatchEvent("startDragging",this)}m.interaction.clickable=false;m.interaction.dragging=true;m.interaction.currentPoint.x=w.pageX;m.interaction.currentPoint.y=w.pageY;if(m.interaction.dragging==true){x=u.x-t.x;v=u.y-t.y;if(m.contentOffset.x<m.allowScrollOffset.minX||m.contentOffset.x>m.allowScrollOffset.maxX){x=x*0.5}if(m.contentOffset.y<m.allowScrollOffset.minY||m.contentOffset.y>m.allowScrollOffset.maxY){v=v*0.5}A=m.contentOffset.x+x;z=m.contentOffset.y+v;this.contentOffset(A,z,{overflowX:m.useScrollBounceHorizontal,overflowY:m.useScrollBounceVertical});m.interaction.dragOffset.x+=x;m.interaction.dragOffset.y+=v;if(m.interaction.globalMove==false){m.interaction.globalMove=true;document.body.addEventListener(m.interaction.hasTouch?"touchmove":"mousemove",n,true)}this.dispatchEvent("dragging",this)}}return true},_end:function(D,G){if(m.interaction.globalMove===true){m.interaction.globalMove=false;document.body.removeEventListener(m.interaction.hasTouch?"touchmove":"mousemove",n,true)}if(m.interaction.globalUp===true){m.interaction.globalUp=false;document.body.removeEventListener(m.interaction.hasTouch?"touchend":"mouseup",n,true)}if(m.interaction.startInteraction){var B,F,w,y,v,u=this._event(D);B=(u.timeStamp||this._timeStamp())-m.interaction.startTime;if(m.interaction.dragging==true){m.interaction.dragging=false;this.dispatchEvent("endDragging",this);if(m.useDecelerating===true&&B<=500){var C=k.position();var t=this._momentum(m.interaction.currentPoint,m.interaction.beginPoint,B,C);var B=t.vertical.time||t.horizontal.time;if(t.vertical.decelerating==true||t.horizontal.decelerating==true){k.animate(B*0.001,{top:t.top,left:t.left,inQueue:true});var x=Math.min(Math.max(m.contentOffset.x,m.allowScrollOffset.minX),m.allowScrollOffset.maxX);var E=Math.min(Math.max(m.contentOffset.y,m.allowScrollOffset.minY),m.allowScrollOffset.maxY);this.scrollToAnimation(x,E,{duration:100,inQueue:true})}else{if(m.contentOffset.x==(t.left*-1)&&m.contentOffset.y==(t.top*-1)){B=0}var x=Math.min(Math.max(t.left*-1,m.allowScrollOffset.minX),m.allowScrollOffset.maxX);var E=Math.min(Math.max(t.top*-1,m.allowScrollOffset.minY),m.allowScrollOffset.maxY);this.scrollToAnimation(x,E,{duration:B})}}else{var A=(m.usePaging===true)?(Math.round(m.contentOffset.x/m.pagingSize.width)*m.pagingSize.width):m.contentOffset.x;var z=(m.usePaging===true)?(Math.round(m.contentOffset.y/m.pagingSize.height)*m.pagingSize.height):m.contentOffset.y;var x=Math.min(Math.max(A,m.allowScrollOffset.minX),m.allowScrollOffset.maxX);var E=Math.min(Math.max(z,m.allowScrollOffset.minY),m.allowScrollOffset.maxY);this.scrollToAnimation(x,E,{duration:100})}}m.interaction.startInteraction=false}return true},_eventHandler:function(w){if(m.scrollBounceVertical==false&&m.scrollBounceHorizontal==false){return true}var t=true;switch(w.type){case"mousedown":case"touchstart":t=m.interaction.target._start.call(m.interaction.target,w);break;case"mousemove":case"touchmove":t=m.interaction.target._move.call(m.interaction.target,w);break;case"mouseup":case"mouseleave":case"touchend":case"touchcancel":t=m.interaction.target._end.call(m.interaction.target,w,(w.type==="mouseleave"));break;case"mousewheel":if(!m.interaction.startInteraction){var v=w.originalEvent.deltaX;var u=w.originalEvent.deltaY;m.interaction.target.contentOffset(m.contentOffset.x+v,m.contentOffset.y+u);if(m.usePaging){if(m.interaction.wheelTimeout){clearTimeout(m.interaction.wheelTimeout);m.interaction.wheelTimeout=null}m.interaction.wheelTimeout=setTimeout(function(){m.interaction.wheelTimeout=null;var x=Math.round(m.contentOffset.x/m.frameSize.width)*m.frameSize.width;var A=Math.round(m.contentOffset.y/m.frameSize.height)*m.frameSize.height;var z=Math.min(Math.max(x,m.allowScrollOffset.minX),m.allowScrollOffset.maxX);var y=Math.min(Math.max(A,m.allowScrollOffset.minY),m.allowScrollOffset.maxY);m.interaction.target.scrollToAnimation(z*-1,y*-1,{duration:100})},100)}}else{if(m.interaction.wheelTimeout){clearTimeout(m.interaction.wheelTimeout);m.interaction.wheelTimeout=null}}if(m.scrollBounceHorizontal&&Math.abs(v)>0&&(m.contentOffset.x==m.allowScrollOffset.minX||m.contentOffset.x==m.allowScrollOffset.maxX)){t=true}else{if(m.scrollBounceVertical&&Math.abs(u)>0&&(m.contentOffset.y==m.allowScrollOffset.minY||m.contentOffset.y==m.allowScrollOffset.maxY)){t=true}else{t=false}}break;case"click":if(m.interaction.clickable==false){w.stopPropagation();return false}break}return t},container:function(t){if(arguments.length==0){return o}o=t;k=new e(o);this.css({width:s.horizontal==false?m.frameSize.width:"100%",height:s.vertical==false?m.frameSize.height:"100%",position:"relative",overflow:"hidden"});k.css({position:"absolute"});this.refresh(false)},scrollContainer:function(){return k},scrollInfo:function(){return m},destroy:function(){this.element().removeEventListener("click",n,true);this.element().removeEventListener("mousedown",n,true);this.element().removeEventListener("mousemove",n,true);this.element().removeEventListener("mouseup",n,true);this.element().removeEventListener("touchstart",n,true);this.element().removeEventListener("touchmove",n,true);this.element().removeEventListener("touchend",n,true);this.element().removeEventListener("touchcancel",n,true);$(this.element()).unbind("mousewheel");$(document).unbind("touchstart");$(document).unbind("mouseleave");k.destroy.apply(k,arguments);r.destroy(true);q.destroy(true);this._super("destroy",arguments)},pagingEnabled:function(u,t){m.usePaging=(u===false)?false:true;m.pagingSize.width=(t&&t.width)?t.width:m.frameSize.width;m.pagingSize.height=(t&&t.height)?t.height:m.frameSize.height},useWheelMouse:function(t){m.useWheelMouse=t;if(m.useWheelMouse===true){$(this.element()).bind("mousewheel",n)}else{$(this.element()).unbind("mousewheel")}},useMouseLeave:function(t){m.useMouseLeave=t;$(this.element()).bind("mouseleave",n);$(document).bind("mouseleave",n)},useDecelerating:function(t){m.useDecelerating=t},useScrollBar:function(w){if(w===false){m.useScrollBar=false;this.remove(r);this.remove(q);return}m.useScrollBar=true;var u,v,t;u=document.head||document.getElementsByTagName("head")[0],v=document.createElement("style");v.type="text/css";t=".scrollbar-hidden::-webkit-scrollbar {display:none}";if(v.styleSheet){v.styleSheet.cssText=t}else{v.appendChild(document.createTextNode(t))}u.appendChild(v);this.addClass("scrollbar-hidden");this.append(r);this.append(q)},scrollBounce:function(t){m.useScrollBounceVertical=(t===true)?true:false;m.useScrollBounceHorizontal=(t===true)?true:false},scrollBounceVertical:function(t){m.useScrollBounceVertical=(t===true)?true:false},scrollBounceHorizontal:function(t){m.useScrollBounceHorizontal=(t===true)?true:false},scrollBarTintColor:function(t){r.tintColor(t);q.tintColor(t)},init:function(u){var t=this._super("init",arguments);if(t){m.interaction.target=this;m.frameSize.width=this.width();this.css({position:"absolute"});m.frameSize.height=this.height();o=$(u).find("[scroll-container]").first().get(0)||$(u).children().get(0);this.container(o);n=this.context(this._eventHandler);this.element().addEventListener("click",n,true);this.element().addEventListener(m.interaction.hasTouch?"touchstart":"mousedown",n,true);this.element().addEventListener(m.interaction.hasTouch?"touchmove":"mousemove",n,true);this.element().addEventListener(m.interaction.hasTouch?"touchend":"mouseup",n,true);if(m.interaction.hasTouch){this.element().addEventListener("touchcancel",n,true)}this.bind("startDragging",function(){if(l.didStartDragging){p.didStartDragging.call(p,m.interaction.target,Object.clone(m))}});this.bind("endDragging",function(){if(l.didEndDragging){p.didEndDragging.call(p,m.interaction.target,Object.clone(m))}});this.bind("finishScrollAnimation",function(){if(l.didFinishScrollingAnimation){p.didFinishScrollingAnimation.call(p,m.interaction.target,Object.clone(m))}});this.bind("scrolling",function(){if(l.scrolling){p.scrolling.call(p,m.interaction.target,Object.clone(m))}});this.bind("dragging",function(){if(l.dragging){p.dragging.call(p,m.interaction.target,Object.clone(m))}});this.useScrollBar(true);this.useWheelMouse(true);this.useMouseLeave(true);return this}},currentSize:{},resizable:function(t){if(t===true){m.resiable=false;return}m.resiable=true;this.currentSize=k.size();this.autoResizeHandler()},autoResizeHandler:function(){var t=this.currentSize;this.currentSize=k.size();if(t.width!=this.currentSize.width||t.height!=this.currentSize.height){this.dispatchEvent("resize")}setTimeout(this.context(function(){if(m.resiable){this.autoResizeHandler()}}),30)},flexable:function(t){s.vertical=(t.vertical===true)?true:false;s.horizontal=(t.horizontal===true)?true:false;this.css({width:s.horizontal==false?m.frameSize.width:"100%",height:s.vertical==false?m.frameSize.height:"100%"})},autoSize:function(t,u){if(t===false){this.resizable(false);this.unbind("resize");return}u=(u===false)?false:true;this.resizable();this.bind("resize",this.context(function(){this.refresh(u)}));this.refresh(u)},_allowContentOffset:function(){m.scrollBounceHorizontal=(m.frameSize.width<(m.contentSize.width+m.contentInset.left))?true:false;m.scrollBounceVertical=(m.frameSize.height<(m.contentSize.height+m.contentInset.top))?true:false;m.allowScrollOffset.minX=m.scrollBounceHorizontal===false?m.contentInset.left*-1:(m.contentInset.left*-1);m.allowScrollOffset.maxX=m.scrollBounceHorizontal===false?m.allowScrollOffset.minX:Math.max(m.allowScrollOffset.minX,((m.contentSize.width-m.frameSize.width)+m.contentInset.right));m.allowScrollOffset.minY=m.scrollBounceVertical===false?m.contentInset.top*-1:(m.contentInset.top*-1);m.allowScrollOffset.maxY=m.scrollBounceVertical===false?m.allowScrollOffset.minY:Math.max(m.allowScrollOffset.minY,((m.contentSize.height-m.frameSize.height)+m.contentInset.bottom))},contentInset:function(u){if(arguments.length==0){return Object.clone(m.contentInset)}for(var t in u){if(m.contentInset[t]!=c&&!isNaN(parseInt(u[t]))){m.contentInset[t]=parseInt(u[t])}}this._allowContentOffset()},contentOffset:function(t,v,u){if(m.interaction.wheelTimeout){clearTimeout(m.interaction.wheelTimeout);m.interaction.wheelTimeout=null}if(arguments.length==0){return Object.clone(m.contentOffset)}if(!u||!u.overflowX===true){t=Math.min(Math.max(t,m.allowScrollOffset.minX),m.allowScrollOffset.maxX)}if(!u||!u.overflowY===true){v=Math.min(Math.max(v,m.allowScrollOffset.minY),m.allowScrollOffset.maxY)}if(this.element()&&this.element().scrollTop){this.element().scrollTop=0}if(this.element()&&this.element().scrollLeft){this.element().scrollLeft=0}k.css({left:Math.round(t*-1)+"px",top:Math.round(v*-1)+"px"});m.contentOffset.x=t;m.contentOffset.y=v;r.update(m);q.update(m);this.dispatchEvent("scrolling",this)},scrollTo:function(t,v,u){this.contentOffset(t*-1,v*-1,u)},scrollTop:function(t){this.scrollTo(m.contentInset.left,m.contentInset.top)},scrollToAnimation:function(t,A,v){if(!m.interaction.target){return}var u=this;var w=true;var z=(v&&!isNaN(parseInt(v.duration)))?parseInt(v.duration):300;if(this.element().scrollTop){this.element().scrollTop=0}if(this.element().scrollLeft){this.element().scrollLeft=0}t=Math.round(t);A=Math.round(A);if(!v||v.inQueue!==true){k.killAnimation(false);w=false}k.animate(z*0.001,{left:t*-1,top:A*-1,inQueue:w,onUpdate:function(){var x=parseInt(k.css("left"))*-1;var y=parseInt(k.css("top"))*-1;r.scroll(y,m);q.scroll(x,m);u.dispatchEvent("scrolling",u)},onComplete:function(){r.update(m);q.update(m);m.interaction.target.dispatchEvent("finishScrollAnimation",m.interaction.target)}});m.contentOffset.x=t;m.contentOffset.y=A},frameSize:function(u,t){if(arguments.length==0){return m.frameSize}m.frameSize.width=u;m.frameSize.height=t},showScrollbar:function(t){if(arguments.length==0){return m.showScrollbar}m.showScrollbar=t},refresh:function(u){var t=this.size();t.width=(t.width==0)?k.width():t.width;t.height=(t.height==0)?k.height():t.height;m.frameSize.width=this.width();m.frameSize.height=this.height();m.contentSize.width=k.width();m.contentSize.height=k.height();this._allowContentOffset();var y=Math.min(Math.max(m.contentOffset.x,m.allowScrollOffset.minX),m.allowScrollOffset.maxX);var x=Math.min(Math.max(m.contentOffset.y,m.allowScrollOffset.minY),m.allowScrollOffset.maxY);if(u===false){this.scrollTo(y*-1,x*-1)}else{var w={x:m.allowScrollOffset.minX,y:m.allowScrollOffset.minY,vtime:0,htime:0};w.x=Math.abs(m.contentOffset.x-y);w.y=Math.abs(m.contentOffset.y-x);w.htime=w.x*10;w.vtime=w.y*10;var v=Math.min(300,Math.max(w.htime,w.vtime));if(v<10){this.scrollTo(y*-1,x*-1)}else{this.scrollToAnimation(y*-1,x*-1,{duration:v})}}r.update(m);q.update(m)},delegate:function(t){p=t;l.scrolling=(typeof p.scrolling=="function");l.dragging=(typeof p.dragging=="function");l.didStartDragging=(typeof p.didStartDragging=="function");l.didEndDragging=(typeof p.didEndDragging=="function");l.didFinishScrollingAnimation=(typeof p.didFinishScrollingAnimation=="function")}}}})})(window);(function(l,f){var d=UI.Class,e=d.Element,i=d.UICore,a={ChangeProperty:"UIControlEvent.ChangeProperty"},k=d({name:"UIControl",parent:i,constructor:function(){var s;var r;return{_didChangeProperty:function(u){var t=this;if(r){clearTimeout(r);r=null}r=setTimeout(function(){t.dispatchEvent(a.ChangeProperty);r=null},10)},destroy:function(){$(this.element()).unbind("propertychange.UIControl keydown.UIControl keyup.UIControl input.UIControl paste.UIControl change.UIControl click.UIControl UIControlEvent.ChangeProperty");this._super("destroy",arguments)},init:function(v){var u=this._super("init",arguments);if(u){var t=$(v);t.bind("propertychange.UIControl keydown.UIControl keyup.UIControl input.UIControl paste.UIControl change.UIControl click.UIControl UIControlEvent.ChangeProperty",this.context(function(w){return this._didChangeProperty(w)}));return this}},isDisabled:function(){return this.element().disabled},disabled:function(t){this.element().disabled=t;$(this.element()).attr("disabled",t);this._didChangeProperty()}}}}),b=d({name:"UIButton",parent:k,constructor:function(){return{init:function(s){var r=this._super("init",arguments);if(r){if(!this.hasClass("UIButton")){this.addClass("UIButton")}return this}}}}}),o=d({name:"UICheckBox",parent:k,constructor:function(){var r={UNSET:0,NONE:1,PART:2,ALL:3};var t="";var s=false;return{init:function(v){var u=this._super("init",arguments);if(u){if(!this.hasClass("UICheckBox")){this.addClass("UICheckBox")}if($(v).data("group")){t=$(v).data("group");o.group(t,this)}if($(v).data("group-whole")){t=$(v).data("group-whole");s=true;o.groupWhole(t,this)}this.bind(a.ChangeProperty,this.context(function(w){this.didChangeProperty()}));if(s===false){o.groupWhole(t).delegate()._didUpdateGroupWhole()}}return this},_status:function(){var w,v=true,u=true;w=o.groupWhole(t);$(w.group().list()).each(function(y,x){if(!x.isDisabled()){if(x.isChecked()){v=false}else{u=false}}});if(v===true){return r.NONE}else{if(u===true){return r.ALL}}return r.PART},_didUpdateGroupWhole:function(){if(s===false){return}var u,v;u=this._status();v=o.groupWhole(t);switch(u){default:case r.UNSET:case r.NONE:this.checked(false,{ignoreEvent:true,isPart:false});break;case r.PART:this.checked(false,{ignoreEvent:true,isPart:true});break;case r.ALL:this.checked(true,{ignoreEvent:true,isPart:false});break}},didChangeProperty:function(){var u,v;u=this.isChecked();v=o.groupWhole(t);if(s===true){this.removeClass("part");$(v.group().list()).each(function(x,w){w.checked(u,{ignoreEvent:true})})}else{v.delegate()._didUpdateGroupWhole()}},isChecked:function(){return this.element().checked},checked:function(u,v){if(arguments.length==0){return this.isChecked()}if(this.isDisabled()){return}this.element().checked=u;this.attribute("checked",u);if(v&&v.isPart!==f){if(v.isPart===true){this.addClass("part")}else{if(v.isPart===false){this.removeClass("part")}}}if(!v||v.ignoreEvent!==true){$(this.element()).trigger("UIControlEvent.ChangeProperty")}}}},"static":function(){var r=function(w){var v=[],u=w;return{add:function(x){Array.add(v,x)},remove:function(x){Array.remove(v,x)},list:function(){return v}}};var t=function(){var u,v;v={_didUpdateGroupWhole:function(){}};return{init:function(){u=new r(this)},group:function(){return u},delegate:function(w){if(arguments.length==0){return v}v=w}}};var s={};return{group:function(v,u){if(arguments.length==0){return s}var w=s[v];if(!w){w=new t(v);w.init();s[v]=w}if(!u){return w.group()}w.group().add(u)},groupWhole:function(v,u){if(arguments.length==0){return s}var w=s[v];if(!w){w=new t(v);w.init();s[v]=w}if(!u){return w}w.delegate(u)}}}}),j=d({name:"UIRadio",parent:k,constructor:function(){return{init:function(s){var r=this._super("init",arguments);if(r){if(!this.hasClass("UIRadio")){this.addClass("UIRadio")}}return this}}}}),g=d({name:"UISwitch",parent:k,constructor:function(){var t,u,s,r;s=false;return{_eventHandler:function(v){this.on((s?false:true),true)},init:function(w){var v=this._super("init",arguments);if(v){if(!this.hasClass("UISwitch")){this.addClass("UISwitch")}t=$(w).find(".UISwitchTrack").instance(e);u=$(w).find(".UISwitchThumb").instance(e);r=this.context(this._eventHandler);$(w).bind("click",r);if(this.attribute("data-status")=="on"){this.on(true)}}return this},on:function(v,x){s=v;this.attribute("data-status",s===true?"on":"off");var y=(x===true)?250:0;var z=s?((this.width()-u.width()-1)):1;var w=s?"#e42c5e":"#e5e5e5";this.killAnimation(false);this.animate(y*0.001,{css:{backgroundColor:w},onUpdate:function(){},onComplete:function(){}});t.killAnimation(false);t.animate(y*0.001,{left:z,onUpdate:function(){},onComplete:function(){}})}}}}),n=d({name:"UITab",parent:k,constructor:function(){var r;return{init:function(t){var s=this._super("init",arguments);if(s){r=$(t).find("a");r.bind("click",function(u){r.removeClass("on").eq($(this).index()).addClass("on")})}return this}}}}),p=d({name:"UISegment",parent:k,constructor:function(){var r;return{init:function(t){var s=this._super("init",arguments);if(s){r=$(t).find("a");r.bind("click",function(u){r.removeClass("on").eq($(this).index()).addClass("on")})}return this}}}}),q=(function(t){var s=function r(){};s.fn=s.prototype={trackOffset:{x:0,y:0},allowTrackOffset:{minX:0,minY:0,maxX:0,maxY:0},stepGapSize:{width:0,height:0},interaction:{hasTouch:("ontouchstart" in l)?true:false,target:t,startTime:0,beginPoint:{x:0,y:0},currentPoint:{x:0,y:0},dragOffset:{x:0,y:0},dragging:false,startInteraction:false,globalMove:false}};return s})(),m=d({name:"UISlider",parent:k,constructor:function(){var r,y,w,x,u,s,v,z,t;return{_event:function(D){var C=0,B=0,A=0;if(D.originalEvent&&D.originalEvent.touches!=f){var E=D.originalEvent.touches[0];if(E){A=E.timeStamp;C=E.clientX;B=E.clientY}else{A=D.timeStamp;C=D.pageX;B=D.pageY}}else{if(D.touches!=f){var E=D.touches[0];if(E){A=E.timeStamp;C=E.clientX;B=E.clientY}else{A=D.timeStamp;C=D.pageX;B=D.pageY}}else{A=D.timeStamp;C=D.pageX;B=D.pageY}}return{timeStamp:A||(new Date()).getTime(),pageX:C,pageY:B}},_timeStamp:function(){return(new Date()).getTime()},_start:function(B){var A=this._event(B);z.interaction.target=B.target||B.srcElement;z.interaction.startTime=this._timeStamp();z.interaction.beginPoint.x=z.interaction.currentPoint.x=A.pageX;z.interaction.beginPoint.y=z.interaction.currentPoint.y=A.pageY;z.interaction.clickable=true;z.interaction.startInteraction=true;z.interaction.dragOffset.x=0;z.interaction.dragOffset.y=0;u.killAnimation(false);return true},_move:function(F){F.preventDefault();if(z.interaction.startInteraction){var A,B,E,C,H,G,D=this._event(F),A={x:D.pageX,y:D.pageY};B={x:z.interaction.currentPoint.x,y:z.interaction.currentPoint.y};if(z.interaction.dragging==false){this.dispatchEvent("startDragging",this)}z.interaction.clickable=false;z.interaction.dragging=true;z.interaction.currentPoint.x=D.pageX;z.interaction.currentPoint.y=D.pageY;if(z.interaction.dragging==true){E=(B.x-A.x)*-1;C=(B.y-A.y)*-1;if(z.trackOffset.x<z.allowTrackOffset.minX||z.trackOffset.x>z.allowTrackOffset.maxX){E=0}if(z.trackOffset.y<z.allowTrackOffset.minY||z.trackOffset.y>z.allowTrackOffset.maxY){C=0}H=z.trackOffset.x+E;G=z.trackOffset.y+C;this.trackOffset(H,G,{overflowY:true});z.interaction.dragOffset.x+=E;z.interaction.dragOffset.y+=C;if(z.interaction.globalMove==false){z.interaction.globalMove=true;document.body.addEventListener(z.interaction.hasTouch?"touchmove":"mousemove",t,true)}this.dispatchEvent("dragging",this)}}return true},_end:function(B,A){if(z.interaction.globalMove==true){z.interaction.globalMove=false;document.body.removeEventListener(z.interaction.hasTouch?"touchmove":"mousemove",t,true)}if(z.interaction.startInteraction){if(z.interaction.dragging==true){z.interaction.dragging=false;this.dispatchEvent("endDragging",this)}z.interaction.target=f;z.interaction.startInteraction=false}return true},_eventHandler:function(D){var A=f;switch(D.type){case"mousedown":case"touchstart":A=this._start.call(this,D);break;case"mousemove":case"touchmove":A=this._move.call(this,D);break;case"mouseup":case"mouseleave":case"touchend":case"touchcancel":A=this._end.call(this,D,(D.type==="mouseleave"));break;case"mousewheel":if(!z.interaction.startInteraction){var C=D.originalEvent.deltaX;var B=D.originalEvent.deltaY;this.contentOffset(z.contentOffset.x+C,z.contentOffset.y+B)}A=false;break}return A},_info:function(){return z},_updateValue:function(){$(v).text(Math.round(this.value()))},destroy:function(){s.removeEventListener(z.interaction.hasTouch?"touchstart":"mousedown",t,true);s.removeEventListener(z.interaction.hasTouch?"touchmove":"mousemove",t,true);s.removeEventListener(z.interaction.hasTouch?"touchend":"mouseup",t,true);if(z.interaction.hasTouch){s.removeEventListener("touchcancel",t,true)}else{$(document).unbind("mouseup");$(document).unbind("mouseleave")}u.destroy(true);this._super("destroy",arguments)},init:function(B){var A=this._super().init();if(A){if(!this.hasClass("UISlider")){this.addClass("UISlider")}y=$(B).find(".UISliderMinimumTrack").get(0);r=$(B).find(".UISliderMaximumTrack").get(0);w=$(B).find(".UISliderMinimumValue").get(0);x=$(B).find(".UISliderMaximumValue").get(0);u=new e(y);s=$(B).find(".UISliderThumb").get(0);v=$(B).find(".UISliderValue").get(0);z=new q();if($(B).data("width")){$(r).css({width:$(B).data("width")})}z.trackOffset.x=$(y).width();z.trackOffset.y=0;z.allowTrackOffset.minX=0;z.allowTrackOffset.maxX=$(r).width();z.allowTrackOffset.minY=0;z.allowTrackOffset.maxY=0;t=this.context(this._eventHandler);s.addEventListener(z.interaction.hasTouch?"touchstart":"mousedown",t,true);s.addEventListener(z.interaction.hasTouch?"touchmove":"mousemove",t,true);s.addEventListener(z.interaction.hasTouch?"touchend":"mouseup",t,true);if(z.interaction.hasTouch){s.addEventListener("touchcancel",t,true)}else{$(document).bind("mouseup",t);$(document).bind("mouseleave",t)}}return this},trackOffset:function(A,C,B){if(this.isDisabled()){return}if(arguments.length==0){return Object.clone(z.contentOffset)}if(!B||!B.overflowX===true){A=Math.min(Math.max(A,z.allowTrackOffset.minX),z.allowTrackOffset.maxX)}if(!B||!B.overflowY===true){C=Math.min(Math.max(C,z.allowTrackOffset.minY),z.allowTrackOffset.maxY)}u.css({width:A});z.trackOffset.x=A;z.trackOffset.y=C;this._updateValue();this.dispatchEvent("tracking",this)},trackTo:function(A,B){if(this.isDisabled()){return}this.trackOffset(A,B)},trackToAnimation:function(A,D,B){if(this.isDisabled()){return}var C=(B&&!isNaN(parseInt(B.duration)))?parseInt(B.duration):300;u.killAnimation(false);u.animate(C*0.001,{width:A,onUpdate:function(){},onComplete:function(){this.dispatchEvent("finishTrackAnimation",this)}});z.trackOffset.x=A;this._updateValue()},value:function(C,B){if(arguments.length==0){return(z.allowTrackOffset.maxX==0)?0:(z.trackOffset.x/z.allowTrackOffset.maxX*100)}var A=Math.min(Math.max(C/100,0),1);if(B===true){this.trackToAnimation(z.allowTrackOffset.maxX*A,0,{duration:300})}else{this.trackTo(z.allowTrackOffset.maxX*A,0)}}}}}),c=(function(t){var s=function r(){};s.fn=s.prototype={trackOffset:{minimum:{x:0,y:0},maximum:{x:0,y:0}},allowTrackOffset:{minimum:{minX:0,minY:0,maxX:0,maxY:0},maximum:{minX:0,minY:0,maxX:0,maxY:0}},stepGapSize:{width:0,height:0},interaction:{hasTouch:("ontouchstart" in l)?true:false,target:t,startTime:0,beginPoint:{x:0,y:0},currentPoint:{x:0,y:0},dragOffset:{x:0,y:0},dragging:false,startInteraction:false,globalMove:false}};return s})(),h=d({name:"UITwinSlider",parent:k,constructor:function(){var u,B,y,r,s,t,x,z,w,A,v;return{_event:function(F){var E=0,D=0,C=0;if(F.originalEvent&&F.originalEvent.touches!=f){var G=F.originalEvent.touches[0];if(G){C=G.timeStamp;E=G.clientX;D=G.clientY}else{C=F.timeStamp;E=F.pageX;D=F.pageY}}else{if(F.touches!=f){var G=F.touches[0];if(G){C=G.timeStamp;E=G.clientX;D=G.clientY}else{C=F.timeStamp;E=F.pageX;D=F.pageY}}else{C=F.timeStamp;E=F.pageX;D=F.pageY}}return{timeStamp:C||(new Date()).getTime(),pageX:E,pageY:D}},_timeStamp:function(){return(new Date()).getTime()},_start:function(D){var C=this._event(D);A.interaction.startTime=this._timeStamp();A.interaction.beginPoint.x=A.interaction.currentPoint.x=C.pageX;A.interaction.beginPoint.y=A.interaction.currentPoint.y=C.pageY;A.interaction.clickable=true;A.interaction.startInteraction=true;A.interaction.dragOffset.x=0;A.interaction.dragOffset.y=0;w.killAnimation(false);return true},_move:function(I){I.preventDefault();if(A.interaction.startInteraction){var M,F,H,E,L,K,J,G,D,C=this._event(I),M={x:C.pageX,y:C.pageY};F={x:A.interaction.currentPoint.x,y:A.interaction.currentPoint.y};if(A.interaction.dragging==false){this.dispatchEvent("startDragging",this)}A.interaction.clickable=false;A.interaction.dragging=true;A.interaction.currentPoint.x=C.pageX;A.interaction.currentPoint.y=C.pageY;if(A.interaction.dragging==true){H=(F.x-M.x)*-1;E=(F.y-M.y)*-1;J=(A.interaction.target===y)?"minimum":"maximum";G=A.trackOffset[J];D=A.allowTrackOffset[J];if(G.x<D.minX||G.x>D.maxX){H=0}if(G.y<D.minY||G.y>D.maxY){E=0}L=G.x+H;K=G.y+E;this.trackOffset(J,L,K,{overflowY:true});A.interaction.dragOffset.x+=H;A.interaction.dragOffset.y+=E;if(A.interaction.globalMove==false){A.interaction.globalMove=true;document.body.addEventListener(A.interaction.hasTouch?"touchmove":"mousemove",v,true)}this.dispatchEvent("dragging",this)}}return true},_end:function(D,C){if(A.interaction.globalMove==true){A.interaction.globalMove=false;document.body.removeEventListener(A.interaction.hasTouch?"touchmove":"mousemove",v,true)}if(A.interaction.startInteraction){if(A.interaction.dragging==true){A.interaction.dragging=false;this.dispatchEvent("endDragging",this)}A.interaction.target=f;A.interaction.startInteraction=false}return true},_eventHandler:function(F){var C=f;switch(F.type){case"mousedown":case"touchstart":if(!A.interaction.target){A.interaction.target=F.currentTarget}C=this._start.call(this,F);break;case"mousemove":case"touchmove":C=this._move.call(this,F);break;case"mouseup":case"mouseleave":case"touchend":case"touchcancel":C=this._end.call(this,F,(F.type==="mouseleave"));break;case"mousewheel":if(!A.interaction.startInteraction){var E=F.originalEvent.deltaX;var D=F.originalEvent.deltaY;this.contentOffset(A.contentOffset.x+E,A.contentOffset.y+D)}C=false;break}return C},_info:function(){return A},_updateValue:function(){$(_thumbValue).text(Math.round(this.value()))},destroy:function(){y.removeEventListener(A.interaction.hasTouch?"touchstart":"mousedown",v,true);y.removeEventListener(A.interaction.hasTouch?"touchmove":"mousemove",v,true);y.removeEventListener(A.interaction.hasTouch?"touchend":"mouseup",v,true);r.removeEventListener(A.interaction.hasTouch?"touchstart":"mousedown",v,true);r.removeEventListener(A.interaction.hasTouch?"touchmove":"mousemove",v,true);r.removeEventListener(A.interaction.hasTouch?"touchend":"mouseup",v,true);if(A.interaction.hasTouch){y.removeEventListener("touchcancel",v,true);r.removeEventListener("touchcancel",v,true)}else{$(document).unbind("mouseup");$(document).unbind("mouseleave")}w.destroy(true);this._super().destroy.apply(this._super(),arguments)},init:function(D){var C=this._super("init",arguments);if(C){if(!this.hasClass("UTwinISlider")){this.addClass("UITwinSlider")}B=$(D).find(".UITwinSliderMinimumTrack").get(0);u=$(D).find(".UITwinSliderMaximumTrack").get(0);s=$(D).find(".UITwinSliderMinimumThumbValue").get(0);t=$(D).find(".UITwinSliderMaximumThumbValue").get(0);x=$(D).find(".UITwinSliderMinimumValue").get(0);z=$(D).find(".UITwinSliderMaximumValue").get(0);y=$(D).find(".UITwinSliderMinimumThumb").get(0);r=$(D).find(".UITwinSliderMaximumThumb").get(0);w=new e(B);A=new c();A.trackOffset.minimum.x=$(B).position().left;A.trackOffset.minimum.y=0;A.trackOffset.maximum.x=$(B).width();A.trackOffset.maximum.y=0;A.allowTrackOffset.minimum.minX=0;A.allowTrackOffset.minimum.maxX=$(B).position().left+$(B).outerWidth();A.allowTrackOffset.minimum.minY=0;A.allowTrackOffset.minimum.maxY=0;A.allowTrackOffset.maximum.minX=0;A.allowTrackOffset.maximum.maxX=$(u).outerWidth()-$(B).position().left;A.allowTrackOffset.maximum.minY=0;A.allowTrackOffset.maximum.maxY=0;v=this.context(this._eventHandler);y.addEventListener(A.interaction.hasTouch?"touchstart":"mousedown",v,true);y.addEventListener(A.interaction.hasTouch?"touchmove":"mousemove",v,true);y.addEventListener(A.interaction.hasTouch?"touchend":"mouseup",v,true);r.addEventListener(A.interaction.hasTouch?"touchstart":"mousedown",v,true);r.addEventListener(A.interaction.hasTouch?"touchmove":"mousemove",v,true);r.addEventListener(A.interaction.hasTouch?"touchend":"mouseup",v,true);if(A.interaction.hasTouch){y.addEventListener("touchcancel",v,true);r.addEventListener("touchcancel",v,true)}else{$(document).bind("mouseup",v);$(document).bind("mouseleave",v)}}return this},trackOffset:function(F,C,G,E){if(this.isDisabled()){return}if(arguments.length==0){return Object.clone(A.contentOffset)}var D=A.allowTrackOffset[F];if(!E||!E.overflowX===true){C=Math.min(Math.max(C,D.minX),D.maxX)}if(!E||!E.overflowY===true){G=Math.min(Math.max(G,D.minY),D.maxY)}if(F==="maximum"){w.css({width:C});A.allowTrackOffset.minimum.minX=0;A.allowTrackOffset.minimum.maxX=$(B).position().left+$(B).outerWidth();A.allowTrackOffset.minimum.minY=0;A.allowTrackOffset.minimum.maxY=0;A.trackOffset[F].x=C;A.trackOffset[F].y=G}else{if(F==="minimum"){w.css({left:C,width:(A.allowTrackOffset.minimum.maxX-C)});A.allowTrackOffset.maximum.minX=0;A.allowTrackOffset.maximum.maxX=$(u).outerWidth()-$(B).position().left;A.allowTrackOffset.maximum.minY=0;A.allowTrackOffset.maximum.maxY=0;A.trackOffset[F].x=C;A.trackOffset[F].y=G;A.trackOffset.maximum.x=$(B).width();A.trackOffset.maximum.y=0}}},trackTo:function(C,D){if(this.isDisabled()){return}this.trackOffset(C,D)},trackToAnimation:function(C,F,D){if(this.isDisabled()){return}var E=(D&&!isNaN(parseInt(D.duration)))?parseInt(D.duration):300;w.killAnimation(false);w.animate(E*0.001,{width:C,onUpdate:function(){},onComplete:function(){this.dispatchEvent("finishTrackAnimation",this)}});A.trackOffset.x=C;this._updateValue()}}}})})(window);(function(d,f){var c=UI.Class,b=c.UICore,a=c({name:"UIInput",parent:b,constructor:function(){return{init:function(i){var h=this._super("init",arguments);if(h){return this}},focus:function(){this.element().focus()}}}}),e=c({name:"UITextArea",parent:b,constructor:function(){return{init:function(i){var h=this._super("init",arguments);if(h){return this}}}}}),g=c({name:"UISpin",parent:b,constructor:function(){var j,h,l;var i=0;var k=0;var m=10;return{init:function(o){var n=this._super("init",arguments);if(n){j=$(o).find(".UISpinButton.Minus").get(0);h=$(o).find(".UISpinButton.Plus").get(0);l=$(o).find(".UISpinInput").get(0);i=parseInt(l.value);i=(isNaN(i))?0:i;$(j).bind("click",function(p){i=Math.min(Math.max((i-1),k),m);l.value=i});$(h).bind("click",function(p){i=Math.min(Math.max((i+1),k),m);l.value=i});return this}}}}})})(window);(function(h,c){var a=UI.Class,b=a.Element,e=a.UICore,g=a.UIControl,f=a({name:"UISelectOption",parent:b,constructor:function(){var l,k;return{init:function(o,p,n,r,s){var m=this._super("init",arguments);if(m){var q=this;l=p;this.html(n);this.data("value",r);this.addClass("UISelectOption");this.bind("click",function(t){s.selectOption(q);t.stopPropagation();return false});return this}},destroy:function(){this.unbind("click");this._super("destroy",arguments)},option:function(){return l},label:function(){return this.element.html()},value:function(m){if(arguments.length===0){return this.data("value")}this.data("value",m)},selected:function(m){k=m;if(k==true){$(l).attr("selected",true);this.addClass("selected")}else{$(l).removeAttr("selected");this.removeClass("selected")}}}}}),j=a({name:"UISelectBox",parent:b,constructor:function(){var o,m,l,k,n=[];return{init:function(q){var p=this._super("init",arguments);if(p){m=this;if($(q).find("DIV.UISelectContent").get(0)){l=new b($(q).find("DIV.UISelectContent").get(0))}else{l=new b("DIV");l.addClass("UISelectContent")}if($(q).find("UL.UISelectOptions").get(0)){k=new b($(q).find("UL.UISelectOptions").get(0))}else{k=new b("UL");k.addClass("UISelectOptions")}this.addClass("UISelectBox");l.append(k);this.append(l);$(document).bind("click",function(r){m.close()});return this}},destroy:function(){$(document).unbind("click.UISelect");k.destroy(true);l.destroy(true);this._super("destroy",arguments)},clear:function(){while(n.length>0){var p=n.shift();p.destroy(true)}n=[];k.empty()},selectOption:function(p){Array.each(n,function(r,s){s.selected((s===p)?true:false)});if(o){$(o.element()).trigger("change");var q=o.selectedTitle();o.label().html(q);o.dispatchEvent("change",o);o.close()}},open:function(q){o=q;this.clear();var s=q.options();var p=q.selectedIndex();var r=this;Array.each(s,function(u,v){var t=v.innerHTML;var x=v.getAttribute("value");var w=new f("LI",v,t,x,r);w.selected(((p===u)?true:false));n.push(w);k.append(w)});this.addClass("open")},close:function(p){this.removeClass("open")}}}}),i=a({name:"UISelectLink",parent:b,constructor:function(){var l,m,k;return{init:function(p,n){var o=this._super("init",arguments);if(o){l=n;if($(p).find("span.UISelectLabel").get(0)){m=new b($(p).find("span.UISelectLabel").get(0))}else{m=new b("span");m.addClass("UISelectLabel")}if($(p).find("span.UISelectArrow").get(0)){m=new b($(p).find("span.UISelectArrow").get(0))}else{k=new b("span");k.addClass("UISelectArrow")}this.addClass("UISelect");this.attr("href","javascript:void(0);");this.append(m);this.append(k);this.bind("click",function(q){l.open();q.stopPropagation();return false});return this}},label:function(){return m},outerHeight:function(){return $(this.element()).outerHeight()},destroy:function(){this.unbind("click");m.destroy(true);k.destroy(true);this._super("destroy",arguments)}}}}),d=a({name:"UISelect",parent:g,constructor:function(){var k;var l;return{options:function(){return this.find("option")},selectedIndex:function(){return this.element().selectedIndex},selectedTitle:function(){var n=this.options();var m=this.selectedIndex();if(n[m]){return n[m].innerHTML}return c},clear:function(){this.empty()},addOption:function(o,n){var m=document.createElement("OPTION");m.text=o;m.value=n;this.element().appendChild(m)},label:function(){return l.label()},open:function(){var m={x:l.offset().x,y:(l.offset().y+l.outerHeight())};k.css({left:m.x,top:m.y});k.open(this)},close:function(){k.close(this)},val:function(){var n=this.options();var m=this.selectedIndex();if(n[m]&&n[m].value){return n[m].value}return null},destroy:function(){l.destroy(true);this._super("destroy",arguments)},init:function(n){var m=this._super("init",arguments);if(m){if(!this.hasClass("UISelect")){this.addClass("UISelect")}var p=$(n).attr("data-class-select-box");var o=$(n).attr("data-selector-select-target");if(o&&$(o).get(0)){if($(o).instance()){k=$(o).instance()}else{k=new j($(o).get(0))}}else{if(p!=="UISelect"){k=new j("DIV")}else{k=d.selectBox()}}k.addClass(p);l=new i("A",this);l.label().html(this.selectedTitle());this.insertAfter(l);l.addClass(this.element().className);if($(n).attr("style")){l.attr("style",$(n).attr("style"))}$(document.body).append(k.element());return this}}}},"static":function(){var k;return{selectBox:function(){if(k===c){k=new j("DIV")}return k}}}})})(window);(function(g,c){var a=UI.Class,b=a.Element,e=a.UICore,h=a({name:"UIIndicator",parent:e,constructor:function(){return{init:function(k){var j=this._super("init",arguments);if(j){return this}}}}}),d=a({name:"UIProgressBar",parent:e,constructor:function(){var j=0;var k;return{init:function(m){var l=this._super("init",arguments);if(l){k=$(m).children().first().instance(b);return this}},value:function(m,l){if(typeof m==="string"&&m.indexOf("%")!==-1){m=parseFloat(m);m=isNaN(m)?0:m;m=(m/100)}j=Math.min(Math.max(m,0),1);var n=(l)?0.35:0;k.killAnimation(false);k.animate(n,{width:(this.width()*j)})}}}}),f=a({name:"UIMultiProgressBar",parent:e,constructor:function(){var m;var l;var k=0;var j=0;return{init:function(o){var n=this._super("init",arguments);if(n){m=$(o).find("[data-total]").first().instance(d);l=$(o).find("[data-current]").first().instance(d);k=0;j=parseInt(m.attribute("data-total"));return this}},value:function(n){l.value(n)},total:function(){return j},count:function(n){if(arguments.length==0){return k}k=n;var o=(k==0||j==0)?0:(k/j*100);m.value(o+"%",true)}}}}),i=a({name:"UIPageIndicator",parent:e,constructor:function(){var j;var o=0;var n=0;var l=[];var k=c;var m={didSelectPage:false};return{init:function(r,p){var q=this._super("init",arguments);if(q){j=new b("UL");this.append(j);return this}},destroy:function(){j.destroy(true);this._super("destroy",arguments)},delegate:function(p){k=p;m.didSelectPage=(typeof k.didSelectPage==="function")},setNeedsDisplay:function(){var p=this;j.empty();l=[];for(var t=1;t<=o;t++){var q=document.createElement("LI");var r=document.createElement("SPAN");r.innerHTML=t;q.appendChild(r);var s=new b(q);s.data("page",t);s.bind("click",this.context(function(u){n=this.data("page");if(m.didSelectPage){k.didSelectPage(p,n)}},s));if(n===t){s.addClass("active")}j.append(s);l.push(s)}},currentPage:function(p){n=Math.min(Math.max(0,p),o);Array.each(l,function(r,q){if(n===r){q.addClass("active")}else{q.removeClass("active")}})},numberOfPages:function(p){o=p;this.setNeedsDisplay()}}}})})(window);(function(d,f){var c=UI.Class,b=c.UICore,e=c.UIScroll,a=c({name:"UISwipe",parent:e,constructor:function(){return{init:function(h){var g=this._super("init",arguments);if(g){var i=this._super();i.pagingEnabled(true);i.useScrollBar(false);i.scrollBounceVertical(false);i.scrollBounceHorizontal(false);this.constructor.prototype.pagingEnabled=this.pagingEnabled=f;this.constructor.prototype.scrollBounceVertical=this.scrollBounceVertical=f;this.constructor.prototype.scrollBounceHorizontal=this.scrollBounceHorizontal=f;this.constructor.prototype.useScrollBar=this.useScrollBar=f;$(this.element()).unbind("mousewheel");return this}},useMouseWheel:function(){$(this.element()).bind("mousewheel",this._eventHandler)},currentPage:function(){var h=this.scrollInfo();var g=h.frameSize.width;return Math.floor((h.contentOffset.x-g/2)/g)+1}}}})})(window);(function(f,g){var c=UI.Class,b=c.UICore,a=c({name:"UILayerContent",parent:b,constructor:function(){var h;return{init:function(k,j){var i=this._super("init",arguments);if(i){h=j;var l=this.data();var m={width:parseInt(l.width),height:parseInt(l.height)};this.css({marginLeft:m.width*-0.5,marginTop:100,width:m.width,height:m.height});return this}}}}}),d=c({name:"UILayer",parent:b,constructor:function(){var h;var i;return{init:function(k){var j=this._super("init",arguments);if(j){h=$(k).find(".UIModal").instance(e);i=$(k).find(".UILayerContent").instance(a,this);return this}},show:function(){h.show();$(this.element()).show()},hide:function(){h.hide();$(this.element()).hide()},content:function(){return i},modal:function(){return h}}}}),e=c({name:"UIModal",parent:d,constructor:function(){return{init:function(i){var h=this._super("init",arguments);if(h){return this}},show:function(){this._super("show",arguments);$("body").css({height:"100%",overflow:"hidden"})},hide:function(){this._super("hide",arguments);$("body").css({height:"",overflow:""})}}}})})(window);(function(d,e){var b=UI.Class,a=b.Responder,c=b({name:"UIComponent",parent:a,constructor:function(){var f;return{init:function(){var g=this._super().init();if(g){return this}},view:function(g){if(arguments.length===0){return f}f=g}}}})})(window);(function(d,g){var b=UI.Class,f=b({name:"UIDatePickerView",parent:"UIView",constructor:function(){var h,i;return{init:function(l,k){var j=this._super("init",[l]);if(j){i=k;this.setupElements(l);this.setupEvents();this.addClass("UIDatePicker");return this}},setupElements:function(k,j){h=$(k)},setupEvents:function(){h.bind("mouseenter",function(j){$(this).attr("data-enter","Y")});h.bind("mouseleave",function(j){$(this).attr("data-enter","N")})}}}}),c=function(j,k){var i=k.view();var m=$(i.element());var n=$(j);var h=false;var l={init:function(){n.attr("maxlength",8);if(n.val().length==8){k.calendar().select($(this).val().substr(6,2),$(this).val().substr(4,2),$(this).val().substr(0,4))}if(n.attr("data-current-date")){n.val(k.calendar().info().date)}},focus:function(){if(h==true){return}h=true;var o={x:parseInt(n.offset().left),y:(parseInt(n.offset().top)+$(j).outerHeight())};if((o.x+m.width())>$(d).width()){o.x=o.x+n.width()-m.width()}if((o.y+m.height())>$(d).height()){o.y=o.y-m.height()-n.outerHeight()}n.val(n.val().replace(/\-/gi,""));m.css({left:o.x,top:o.y}).addClass("open");k.currentInput(j)},blur:function(){if(h==false){return}h=false;if(i.data("enter")!=="Y"){m.removeClass("open");n.val(k.calendar().info().date)}else{n.focus()}}};n.bind("focus",function(o){l.focus()});n.bind("blur",function(o){if(h==true){l.blur()}});n.bind("keydown",function(o){if(o.keyCode==13){$(this).blur()}if((o.keyCode>=48&&o.keyCode<=57)||(o.keyCode>=96&&o.keyCode<=105)||o.keyCode==8||o.keyCode==46||o.keyCode==37||o.keyCode==39||o.keyCode==35||o.keyCode==36||o.keyCode==9){}else{o.returnValue=false;return false}});n.bind("keyup",function(o){if($(this).val().length==8){k.calendar().select($(this).val().substr(6,2),$(this).val().substr(4,2),$(this).val().substr(0,4))}});l.init();return l},a=b({name:"UIDatePicker",parent:"UIComponent",constructor:function(){var k,j,i=[],h=null;return{init:function(l){this.setupElements();this.setupEvents();return this},setupElements:function(){var l=this;k=new f("DIV",l);j=new e("DIV");j.currentDate();k.append(j);document.body.appendChild(k.element())},currentInput:function(l){h=l},view:function(){return k},setupEvents:function(){var l=this;j.bind("select",function(m){if($(h).length>0){$(h).val(($(h).is(":focus")?m.date.replace(/\-/gi,""):m.date))}});j.bind("change",function(m){})},relate:function(l){if(!Array.inArray(i,l)){i.push(l);var m=new c(l,this)}},calendar:function(){return j},change:function(l){this.dispatchEvent("change",this,l)}}},staticConstructor:function(){var h;return{sharedInstance:function(){if(h!==null){h=new a()}return h},relate:function(i){this.sharedInstance().relate(i)}}}}),e=b({name:"UICalendar",parent:"UICore",constructor:function(){var i,k,j,h={today:new Date(),day:new Date().getDate(),date:"",lastDay:0,year:(new Date()).getFullYear(),month:(new Date()).getMonth()+1,weekNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]};return{init:function(m){var l=this._super("init",[m]);if(l){this.setupElements(m);this.setupEvents();this.addClass("UICalendar");return this}},currentDate:function(){var l=new Date();this.change(l.getFullYear(),l.getMonth()+1);this.select(l.getDate())},prevMonth:function(){if(h.month<=1){h.month=12;h.year=parseInt(h.year)-1}else{h.month=parseInt(h.month)-1}this.change(h.year,h.month)},nextMonth:function(){if(h.month>=12){h.month=1;h.year=parseInt(h.year)+1}else{h.month=parseInt(h.month)+1}this.change(h.year,h.month)},isToday:function(m,n,l){return(h.today.getFullYear()==m&&h.today.getMonth()==(n-1)&&h.today.getDate()==l)?true:false},info:function(){return h},select:function(l,p,n){if(arguments.length==3){if(h.month!==p||h.year!==n){this.change(n,p)}}var m=[];var n=h.year.toString();var p=h.month.toString();var l=l.toString();m.push(n);m.push((p.length==1?("0"+p):p));var o=false;j.find("TBODY TD[data-day]").removeClass("select").each(function(q,r){if($(r).data("day")==l){$(r).addClass("select");o=true;return false}});if(o==true){m.push((l.length==1?("0"+l):l));h.day=l}else{l=h.lastDay.toString();m.push((l.length==1?("0"+l):l));j.find("TBODY TD[data-day='"+l+"']").addClass("select");h.day=h.lastDay}h.date=m.join("-");this.dispatchEvent("select",h)},change:function(p,o){h.year=p;h.month=o;var n=this;var r=0;var q=(new Date(h.year,o,0)).getDate();var u=(new Date(h.year,o-1,1)).getDay();h.lastDay=q;j.find("TBODY").empty();for(var m=0;m<6;m++){var s=$("<TR></TR>");var l=false;$(h.weekNames).each(function(v,w){if(r==0){if(v>=u){r=1}}else{if(r<q){r=r+1}else{l=true}}var x=$("<TD><A></A></TD>");if(r==0||l){x.find("a").html("&nbsp;");x.attr("data-action","none")}else{x.find("a").html(r);x.attr("data-action","day");x.attr("data-day",r);if(n.isToday(h.year,h.month,r)){x.addClass("today")}x.bind("click",function(z){var y=parseInt($(this).data("day"));n.select(y)})}s.append(x)});j.find("TBODY").append(s)}var t=h.monthNames[o-1];k.find(".UICalendarMonth").html(t);k.find(".UICalendarYear").html(p);this.dispatchEvent("change",{year:p,month:o,monthName:t})},setupElements:function(l){i=$(l);k=$('<div class="UICalendarHeader"></div>');k.append('<a data-action="prev" title="Prev"><span>Prev</span></a>');k.append('<a data-action="next" title="Next"><span>Next</span></a>');k.append('<div class="UICalendarHeaderTitle"><span class="UICalendarMonth"></span>&nbsp;<span class="UICalendarYear"></span></div>');j=$('<DIV class="UICalendarContent"><TABLE><THEAD><TR></TR></THEAD><TBODY></TBODY></TABLE></DIV>');$(h.weekNames).each(function(n,o){var m=$("<TH><SPAN></SPAN></TH>");m.find("span").attr("title",o).html(o.substr(0,3));j.find("THEAD TR").append(m)});i.append(k);i.append(j)},setupEvents:function(){var l=this;k.find("[data-action='prev']").bind("click",function(m){l.prevMonth()});k.find("[data-action='next']").bind("click",function(m){l.nextMonth()})}}}})})(window);(function(e,g){var c=UI.Class,b=c.Element,d=UI.Class.UIComponent,f=function(l,p,m,r){var j,i,o,k,q,n=m,h=r;j=l.data||{};i=l.itemName;k=p;q={foldering:(l.foldering===true)?true:false,closed:(l.closed===false)?false:true};o=new a(p,n+1,h);if(Array.isArray(l.subTree)){Array.each(l.subTree,function(s,t){o.add(t)})}return{itemName:i,data:function(s,t){if(arguments.length==0){return j}if(t===g){return j[s]}j[s]=t},depth:function(){return n},options:function(){return q},parent:function(){return k},rootTree:function(){return h},tree:function(){return o},toJSON:function(){var s=[];o.each(function(t,u){s.push(u.toJSON())});return{itemName:this.itemName,data:j,subTree:s}}}},a=c({name:"UITree",parent:d,constructor:function(){var h,j,n,l,i,k,m;h=new b("UL");h.addClass("UITree");n;l;i=0;j=[];k={};m={didSelectTreeItem:false};return{init:function(p,r,q){var o=this._super("init",arguments);if(o){n=p;i=r||0;l=q;if(n===g&&l===g){n=l=this}return this}},destroy:function(){h.destroy.apply(h,arguments);this._super().destroy.apply(this._super(),arguments)},element:function(){return h.element()},make:function(p){var o=this;Array.each(p,function(q,r){o.add(r)})},add:function(p){if(Array.isArray(p.subTree)){if(p.foldering===g){p.foldering=true}if(p.closed===g){p.closed=true}}var q=new f(p,this,i,l);var o={};j=Array.add(j,q,o);return q},remove:function(o){j=Array.remove(j,o)},removeAtIndex:function(p){var o={};j=Array.removeAtIndex(j,p,o);if(o.code){}},dataItems:function(){return j},each:function(o){Array.each(j,o,this)},load:function(){$(h.element()).empty();this.each(function(p,o){var q=$("<LI />");var t=$("<span class='item-bullet'></span>");var r=$("<span class='item-name'></span>").text(o.itemName);var s=false;o.tree().delegate(k);o.tree().load();q.append(t);q.append(r);q.data(o.data());if(o.tree().dataItems().length>0){s=true}if(s===true||o.options().foldering===true){q.get(0).appendChild(o.tree().element());q.addClass("list");if(o.options().closed===true){q.addClass("closed")}}q.bind("click",function(u){if(k.didSelectTreeItem){k.didSelectTreeItem.call(k,o.tree(),i,p,o)}if(o.tree().dataItems().length>0){s=true}if(q.hasClass("closed")){q.removeClass("closed")}else{q.addClass("closed")}return false});h.element().appendChild(q.get(0))})},parent:function(){return h.parent()},container:function(){return h},delegate:function(o){k=o}}}})})(window);(function(o,h){var c=UI.Class,p=UI.Template,f=c.Element,a=c.UIButton,q=c.UIComponent,m=c.UIScroll,b=function(u){var r=u,t={},s=[];return{_setData:function(v){Array.each(v,function(w,x){var y={key:x.key,title:x.title,width:x.width};s.push(x.key);t[x.key]=y})},_set:function(v,w){s.push(v);t[v]=w},data:function(v){if(t[v]){return t[v]}return t},keys:function(){return s},count:function(){return s.length},title:function(v){return this.data(v).title},width:function(B){var w=this.data(B).width;var y=0;var C=0;var v=0;var A=0;var x=0;this.each(function(E,F,G){if(G.width==="default"||G.width==="auto"){y=y+1}else{if(G.width.indexOf("%")!==-1){A=A+parseInt(G.width);x=x+1}else{v=v+parseInt(G.width)}}C=C+1});var z=$(r.element()).parent().width();var D=(z-v-((A/100)*z))/y;if(w==="default"||w==="auto"){return D}else{if(w.indexOf("%")!==-1){return w}}return parseInt(w)},resizeInfo:function(){var w={};var v=this;Array.each(s,function(x,y){w[y]=v.width(y)});return w},keyAtIndex:function(v){return s[v]},each:function(w,v){v=v||this;Array.each(s,function(x,y){w.call(v,x,y,t[y])},v)}}},l=c({name:"UITableColumn",parent:f,constructor:function(){var t,s,r;return{init:function(x,w,v,y){var u=this._super("init",arguments);if(u){t=w;s=y;this.html(v);return this}},key:function(){return t},resize:function(v){var u=v[t];this.css({width:u})}}}}),n=c({name:"UITableRow",parent:f,constructor:function(){var t=[],s,r;return{init:function(v,w){var u=this._super("init",arguments);if(u){s=w;return this}},resize:function(u){Array.each(t,function(v,w){w.resize(u)})},columns:function(){return t},each:function(v,u){u=u||this;Array.each(t,function(w,x){v.call(u,w,x)},u)},addColumn:function(u,w){var x=document.createElement("TD");var v=new l(x,u,w,s);t.push(v);this.append(v);return v},loadDOM:function(){var u=this;$(this.element()).find("th,td").each(function(v,w){var x=s.colgroup().keyAtIndex(v);var y=new l(w,x,$(w).html(),s);t.push(y)})}}}}),j=c({name:"UITableGroup",parent:f,constructor:function(){var s;var t=[];var r;return{init:function(v,w){var u=this._super("init",arguments);if(u){s=this;r=w;return this}},resize:function(u){Array.each(t,function(v,w){w.resize(u)})},table:function(){return r},colgroup:function(){return r.colgroup()},firstRow:function(){return t.length>0?t[0]:null},rows:function(){return t},each:function(v,u){u=u||this;Array.each(t,function(w,x){v.call(u,w,x)},u)},addBlankRow:function(w){var x=document.createElement("TR");var y=new n(x,this);var u=r.colgroup();var z=document.createElement("TD");var v=new l(z,"",w,this);v.attr("colspan",u.count());y.addClass("blank");y.append(v);this.append(y);return y},addRow:function(w){var v=document.createElement("TR");var x=new n(v,this);var u=r.colgroup();u.each(function(y,z,A){x.addColumn(z,w[z]||"")});t.push(x);this.append(x);return x},loadDOM:function(){var u=this;$(this.element()).find("tr").each(function(v,w){var w=new n(w,u);w.loadDOM();t.push(w)})}}}}),k=c({name:"UITableHead",parent:j,constructor:function(){return{init:function(s,t){var r=this._super("init",arguments);if(r){return this}},addRow:function(s){var t=this._super("addRow",[s]);var r=this.colgroup();if(t===this.firstRow()){t.each(function(u,x){var v=x.key();var y=r.data(v);for(var w in y){x.data(w,y[w])}})}return t},headData:function(){var r={};this.colgroup().each(function(s,t,u){r[t]=u.title});return r}}}}),e=c({name:"UITableBody",parent:j,constructor:function(){return{init:function(s,t){var r=this._super("init",arguments);if(r){return this}}}}}),i=c({name:"UITable",parent:f,constructor:function(){var r,u,s,t;return{init:function(w){var v=this._super("init",arguments);if(v){var x=this;s=new b(this);r=new k($(w).find("thead").first().get(0)||"THEAD",this);u=new e($(w).find("tbody").first().get(0)||"TBODY",this);this.append(r);this.append(u);$(o).on("resize",function(){if(t){clearTimeout(t);t=null}t=setTimeout(function(){t=null;x.resize()},100)});return this}},head:function(){return r},body:function(){return u},resize:function(){var v=s.resizeInfo();r.resize(v);u.resize(v)},colgroup:function(v){if(arguments.length===0){return s}s._setData(v)},clear:function(){u.empty()},makeRows:function(v){Array.each(v,function(w,x){u.addRow(x)})}}}}),g=c({name:"UIGrid",parent:q,constructor:function(){var v,r,C,B,t={didChangePage:false},y=[],u="",x="",s,w=1,z=1,A=10;return{_loadFromHead:function(D){var F=this;var E=$(r.head().element()).find("tr");E.each(function(H,J){var G=$(J);var K=G.instance(n,r.head());r.head().rows().push(K);if(G.children().length>0){var I=G.children();I.each(function(L,S){var P=$(S);var R=D[L];var Q=P.data();var N=Q.key;for(var M in R){Q[M]=R[M]}r.head().colgroup()._set(N,Q);var O=P.instance(l,N,Q.title,r.head());O.bind("click",function(U){var T=O.key();F.sortByKey(T)});K.columns().push(O)})}})},_loadFromBody:function(){var E=this;var D=$(r.body().element()).find("tr");var F=[];D.each(function(H,J){var G=$(J);var L=G.instance(n,r.body());r.body().rows().push(L);var K={};if(G.find("td").first()){var I=G.find("td");r.colgroup().each(function(M,N,Q){var P=I.eq(M);var R=P.html();var O=P.instance(l,N,R,r.body());K[N]=R;L.columns().push(O)})}F.push(K)});this.data(F)},_createHead:function(E){var F=this;var D=$("<TR></TR>");var G=D.instance(n,r.head());$(r.head().element()).append(D);r.head().rows().push(G);$(E).each(function(K,M){var J=$("<TH></TH>");for(var H in M){J.attr("data-"+H,M[H])}var L={};var I=J.instance(l,M.key,M.title,r.head());I.bind("click",function(O){var N=I.key();F.sortByKey(N)});D.append(J);G.columns().push(I);r.head().colgroup()._set(M.key,M)})},_createScroll:function(E){var D=new m(E);D.container(r.body().element());D.flexable({horizontal:true});D.useMouseLeave(true);D.useWheelMouse(true);D.scrollBounceVertical(true);D.useScrollBar(true);return D},init:function(G,F){var E=this._super("init",arguments);if(E){var H=this;s=new f("SPAN");s.addClass("sort-arrow");r=new i(($(G).find("table").first().get(0)||"TABLE"));r.body().attribute("scroll-container","");var D=F.scheme.fields;if($(r.head().element()).find("tr").get(0)){this._loadFromHead(D)}else{this._createHead(D)}v=this._createScroll(G);this.view(v);this.view().append(r);v.contentInset({top:r.head().height()});r.head().css({position:"absolute","z-index":2});r.addClass("animation");v.refresh(false);w=1;if(F.pageSize){A=F.pageSize}if(F.columns){this.colgroup(F.columns)}if(F.height){v.css({height:F.height});r.resize()}if(F.delegate){this.delegate(F.delegate)}this.dispatchEvent("ready",this);if(t.didReady){B.didReady.call(B,this)}if(F.data){this.data(F.data)}else{if($(r.body().element()).find("tr").first()){this._loadFromBody()}}r.resize();return this}},delegate:function(D){if(arguments.length===0){return B}B=D;t=(typeof B.didChangePage==="function")},table:function(){return r},colgroup:function(D){var F,E=this;r.colgroup(D);r.head().addRow(r.head().headData()).each(function(G,H){H.bind("click",function(J){var I=H.key();E.sortByKey(I)})})},sortByKey:function(D){if(u===D){if(x===""){x="ASC"}else{if(x==="ASC"){x="DESC"}else{if(x==="DESC"){x=""}}}}else{u=D;x="ASC"}this.render()},listData:function(){if(y.length===0){return[]}var D=[];if(x!==""){var E=Array.copy(y);Array.sort(E,function(I,F){var H=I[u];var G=F[u];if(!isNaN(parseInt(H))&&!isNaN(parseInt(G))){H=parseInt(H);G=parseInt(G)}if(x=="DESC"&&H<G){return x}else{if(x=="ASC"&&H>G){return x}}});D=E}else{D=y}return D},render:function(F){var H=r.head().firstRow();if(H){var E=H.columns();Array.each(E,function(I,J){if(J.key()===u){s.removeClass("DESC ASC");s.addClass(x);J.append(s);return false}})}var G=this.listData();var D=[];Array.each(G,function(J,I){if(J<(w*A)&&J>=((w-1)*A)){D.push(I)}});r.clear();if(F||C){if(F!==h){C=p.parse(F)}var F=C.render({list_items:D});r.body().html(F);r.body().loadDOM()}else{r.makeRows(D)}v.refresh(false);v.scrollTop();r.resize();this.dispatchEvent("change",this);if(t.didChangePage){B.didChangePage.call(B,this,w)}},pageSize:function(D){A=D},page:function(){return w},totalPage:function(){return z},nextPage:function(){this.movePage(w+1)},prevPage:function(){this.movePage(w-1)},movePage:function(D){D=Math.min(Math.max(D,1),z);if(w===D){return}w=D;this.render()},data:function(E,D){y=E;z=(y.length==0)?1:Math.ceil(y.length/A);if(D===true){this.render(D)}}}}}),d=c({name:"UIPageBox",parent:f,constructor:function(){var t=[],r,s,v,u,w={didChangePage:false};return{_page:function(x){if(x==="first"){x=1}else{if(x==="prev"){x=s-1}else{if(x==="next"){x=s+1}else{if(x==="last"){x=v}else{x=parseInt(x)}}}}if(!isNaN(x)){this.page(x,true)}else{console.error(x)}},makeButtons:function(){var x;x=new a("BUTTON");x.html("&lt;&lt;");x.data("page","first");x.addClass("page first");this.append(x);x=new a("BUTTON");x.html("&lt;");x.data("page","prev");x.addClass("page prev");this.append(x);for(var y=s;y<=v;y++){x=new a("BUTTON");x.html(y);x.data("page",y);x.addClass("page");this.append(x)}x=new a("BUTTON");x.html("&gt;");x.data("page","next");x.addClass("page next");this.append(x);x=new a("BUTTON");x.html("&gt;&gt;");x.data("page","last");x.addClass("page last");this.append(x)},init:function(A,y){var x=this._super("init",arguments);if(x){var z;r=this;s=y.page;v=y.totalPage;if(y.makeButtons===true){this.makeButtons()}$(A).find("[data-page]").click(function(C){var B=$(this).data("page");r._page(B)});if(y.delegate){u=y.delegate;w.didChangePage=(typeof u.didChangePage==="function")}this.page(y.page);return this}},page:function(z,y){var x=s;s=Math.min(Math.max(z,1),v);$(this.element()).find("[data-page]").removeClass("active");$(this.element()).find("[data-page="+s+"]").addClass("active");if(y===true||x!==s){this.dispatchEvent("change",this,s)}if(w.didChangePage){u.didChangePage.call(u,this,s)}}}}})})(window);